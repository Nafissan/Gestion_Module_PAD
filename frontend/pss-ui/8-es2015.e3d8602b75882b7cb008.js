(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+EKe":function(e,t,n){"use strict";var i=n("23KU"),r=n("uE2L");t.a=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],d=a?a(n[c],e[c],c,n,e):void 0;void 0===d&&(d=e[c]),o?Object(r.a)(n,c,d):Object(i.a)(n,c,d)}return n}},"23KU":function(e,t,n){"use strict";var i=n("uE2L"),r=n("YHEm"),a=Object.prototype.hasOwnProperty;t.a=function(e,t,n){var o=e[t];a.call(e,t)&&Object(r.a)(o,n)&&(void 0!==n||t in e)||Object(i.a)(e,t,n)}},"3/ER":function(e,t,n){"use strict";(function(e){var i=n("Ju5/"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===r?i.a.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n("3UD+")(e))},"4/q3":function(e,t,n){"use strict";var i=n("7gMY"),r=n("IzLi"),a=n("pyRK"),o=Object.prototype.hasOwnProperty,s=n("5WsY");t.a=function(e){return Object(s.a)(e)?Object(i.a)(e,!0):function(e){if(!Object(r.a)(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Object(a.a)(e),n=[];for(var i in e)("constructor"!=i||!t&&o.call(e,i))&&n.push(i);return n}(e)}},"8lb9":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}},C2er:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var i=n("0IaG"),r=n("3Pt+"),a=n("JX91"),o=n("lJxs"),s=n("bU90"),l=n("E/Os"),c=n("ucIW"),d=n("4Ng6"),u=n("dyEh"),p=n("PFrk"),m=n("1yaQ"),h=n("FKr1"),g=n("2qhH"),v=n("O263"),f=n("uD26"),y=n("N4ob"),w=n("pVHX"),b=n("9nlD"),E=n("fXoL"),D=n("tyNb"),S=n("NFeN"),C=n("XiUz"),O=n("ofXK"),T=n("kmnG"),k=n("qFsG"),x=n("/1cH"),j=n("iadO"),A=n("bTqV");function M(e,t){1&e&&(E["\u0275\u0275elementStart"](0,"mat-form-field",5),E["\u0275\u0275elementStart"](1,"mat-label"),E["\u0275\u0275text"](2,"Code Conge"),E["\u0275\u0275elementEnd"](),E["\u0275\u0275element"](3,"input",20),E["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e){const e=E["\u0275\u0275getCurrentView"]();E["\u0275\u0275elementStart"](0,"mat-option",21),E["\u0275\u0275listener"]("click",(function(){E["\u0275\u0275restoreView"](e);const n=t.$implicit;return E["\u0275\u0275nextContext"]().setAgent(n)})),E["\u0275\u0275element"](1,"img",22),E["\u0275\u0275elementStart"](2,"span"),E["\u0275\u0275text"](3),E["\u0275\u0275elementEnd"](),E["\u0275\u0275text"](4," | "),E["\u0275\u0275elementStart"](5,"small"),E["\u0275\u0275text"](6),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;E["\u0275\u0275property"]("value",e.matricule),E["\u0275\u0275advance"](3),E["\u0275\u0275textInterpolate"](e.email),E["\u0275\u0275advance"](3),E["\u0275\u0275textInterpolate1"]("Matricule: ",e.matricule,"")}}function R(e,t){if(1&e){const e=E["\u0275\u0275getCurrentView"]();E["\u0275\u0275elementStart"](0,"button",23),E["\u0275\u0275listener"]("click",(function(){return E["\u0275\u0275restoreView"](e),E["\u0275\u0275nextContext"]().agentCtrl.reset()})),E["\u0275\u0275elementStart"](1,"mat-icon"),E["\u0275\u0275text"](2,"close"),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementEnd"]()}}function z(e,t){1&e&&(E["\u0275\u0275elementStart"](0,"button",24),E["\u0275\u0275elementStart"](1,"mat-icon"),E["\u0275\u0275text"](2,"arrow_drop_down"),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(E["\u0275\u0275elementStart"](0,"button",25),E["\u0275\u0275text"](1,"AJOUTER"),E["\u0275\u0275elementEnd"]()),2&e){const e=E["\u0275\u0275nextContext"]();E["\u0275\u0275property"]("disabled",!e.form.valid||!e.agentCtrl.value)}}function P(e,t){if(1&e&&(E["\u0275\u0275elementStart"](0,"button",25),E["\u0275\u0275text"](1,"MODIFIER"),E["\u0275\u0275elementEnd"]()),2&e){const e=E["\u0275\u0275nextContext"]();E["\u0275\u0275property"]("disabled",!e.form.valid||!e.agentCtrl.value)}}let H=(()=>{class e{constructor(e,t,n,i,r,a,o,s,l,c,d,u,p,m,h){this._adapter=e,this.defaults=t,this.dialogRef=n,this.fb=i,this.congeService=r,this.router=a,this.agentService=o,this.planningService=s,this.dialogConfirmationService=l,this.planningDirectionService=c,this.authService=d,this.compteService=u,this.dossierCongeService=p,this.uniteOrganisationnelleService=m,this.notificationService=h,this.currentDate=new Date,this.mode="create"}ngOnInit(){this._adapter.setLocale("fr"),console.log("URL: ",this.router.url),this.agentCtrl=new r.e,this.defaults?(this.mode="update",this.agentCtrl.setValue(this.defaults.agent.matricule)):this.defaults={},this.getDossierConges(),this.form=this.fb.group({dateDepart:new r.e({value:new Date(this.defaults.dateDepart),disabled:!1},[r.w.required]),dureePrevisionnelle:new r.e(this.defaults.dureePrevisionnelle||0,[r.w.required]),description:new r.e(this.defaults.description||"",[r.w.required]),code:new r.e({value:this.defaults.id,disabled:!0})})}getDossierConges(){this.dossierCongeService.getAll().subscribe(e=>{this.dossierconges=e.body,this.currentDossierConge=this.dossierconges.find(e=>e.etat===l.b.saisi||e.etat===l.b.ouvert),console.log("Dossier Conge: ",this.currentDossierConge)},e=>{},()=>{this.minDateDepart=new Date(this.currentDate.getFullYear(),0),this.maxDateDepart=new Date(this.currentDate.getFullYear(),11,31),this.getAgentConnecte(this.currentDossierConge)})}getAgentConnecte(e){this.username=this.authService.getUsername(),this.compteService.getByUsername(this.username).subscribe(e=>{this.compte=e.body,this.agentConnecte=this.compte.agent,this.uniteOrganisationnelle=this.agentConnecte.uniteOrganisationnelle,console.log("AGENT CONNECTE: ",this.agent)},e=>{},()=>{this.getUniteOrganisationnelleSuperieure(e)})}getUniteOrganisationnelleSuperieure(e){let t;1===this.uniteOrganisationnelle.niveauHierarchique.position||0===this.uniteOrganisationnelle.niveauHierarchique.position?(console.log("Unite Superieure Agent v.1: ",this.uniteOrganisationnelle),this.uniteSuperieureAgent=this.uniteOrganisationnelle,this.getPlanningDirection(this.uniteSuperieureAgent.code,e.id)):this.uniteOrganisationnelleService.getAllSuperieures(this.uniteOrganisationnelle.id).subscribe(e=>{t=e.body,this.uniteSuperieureAgent=t.find(e=>1===e.niveauHierarchique.position),console.log("Unite Superieure Agent v.2: ",this.uniteSuperieureAgent)},e=>{},()=>{this.getPlanningDirection(this.uniteSuperieureAgent.code,e.id)})}getPlanningDirection(e,t){this.planningDirectionService.getByCodeDirectionAndDossierConge(e,t).subscribe(e=>{this.currentPlanningDirection=e.body},e=>{},()=>{this.getPlanningCongeByPlanningDirectionAndUniteOrganisationnelle(this.currentPlanningDirection)})}getPlanningCongeByPlanningDirectionAndUniteOrganisationnelle(e){this.planningService.getAllByPlanningDirectionAndUniteOrganisationnelle(e.id,this.uniteOrganisationnelle.id).subscribe(t=>{this.planningConges=t.body,this.currentPlanningConge=this.planningConges.find(t=>t.planningDirection.id===e.id),console.log("Response planning cong\xe9 :",t)},e=>{},()=>{this.getAgentsByUniteOrganisationelleSansConge(this.currentPlanningConge)})}getAgentsByUniteOrganisationelleSansConge(e){this.agentService.getAllSansConge(e.uniteOrganisationnelle.id,this.currentDossierConge.annee).subscribe(e=>{this.agents=e.body,console.log("AGENTS: ",this.currentPlanningConge.uniteOrganisationnelle.id)},e=>{},()=>{this.filteredAgents=this.agentCtrl.valueChanges.pipe(Object(a.a)(""),Object(o.a)(e=>e?this.filterStates(e):this.agents.slice()))})}filterStates(e){return this.agents.filter(t=>0===t.matricule.toLowerCase().indexOf(e.toLowerCase())||0===t.prenom.toLowerCase().indexOf(e.toLowerCase())||0===t.nom.toLowerCase().indexOf(e.toLowerCase()))}save(){"create"===this.mode?this.createConge():"update"===this.mode&&this.updateConge()}setAgent(e){this.agent=e}createConge(){let e=this.form.value;e.dateSaisie=new Date,e.etat=l.a.saisi,e.planningConge=this.currentPlanningConge,e.agent=this.agent,e.code="C-"+this.agent.matricule+"-"+(new Date).getTime(),e.niveau=this.agent.uniteOrganisationnelle.niveauHierarchique.position,e.etape=e.niveau,e.dateRetourPrevisionnelle=this.addDays(new Date(e.dateDepart),e.dureePrevisionnelle),e.mois=new Date(e.dateDepart).toLocaleString("fr-FR",{month:"long"}),e.annee=new Date(e.dateDepart).getFullYear().toString(),this.dialogConfirmationService.confirmationDialog().subscribe(t=>{t===u.a.confirmer?this.congeService.create(e).subscribe(e=>{console.log("response ",e),this.notificationService.success(u.e.ajout),this.dialogRef.close(e.body)},e=>{this.notificationService.warn(u.e.echec)},()=>{this.updatePlanningConge()}):this.dialogRef.close()})}updateConge(){let e=this.form.value;e.id=this.defaults.id,e.dateSaisie=this.defaults.dateSaisie,e.etat=this.defaults.etat,e.planningConge=this.currentPlanningConge,e.agent=this.defaults.agent,e.code=this.defaults.code,e.niveau=this.defaults.niveau,e.etape=this.defaults.etape,e.dateRetourPrevisionnelle=this.addDays(new Date(e.dateDepart),e.dureePrevisionnelle),e.mois=new Date(e.dateDepart).toLocaleString("fr-FR",{month:"long"}),e.annee=new Date(e.dateDepart).getFullYear().toString(),this.dialogConfirmationService.confirmationDialog().subscribe(t=>{t===u.a.confirmer?this.congeService.update(e).subscribe(t=>{console.log("Conge updated: ",t),this.notificationService.success(u.e.modification),this.dialogRef.close(e)},e=>{this.notificationService.warn(u.e.echec)},()=>{}):this.dialogRef.close()})}updatePlanningConge(){this.currentPlanningConge.etat===l.c.saisi&&(this.currentPlanningConge.etat=l.c.encours,this.planningService.update(this.currentPlanningConge).subscribe(e=>{console.log("planning conge updated: ",e),this.notificationService.success(l.c.ouvert)},e=>{this.notificationService.warn(u.e.echec)},()=>{}))}isCreateMode(){return"create"===this.mode}isUpdateMode(){return"update"===this.mode}onDateChange(e){}addDays(e,t){return e.setDate(e.getDate()+t),e}}return e.\u0275fac=function(t){return new(t||e)(E["\u0275\u0275directiveInject"](h.c),E["\u0275\u0275directiveInject"](i.a),E["\u0275\u0275directiveInject"](i.g),E["\u0275\u0275directiveInject"](r.d),E["\u0275\u0275directiveInject"](s.a),E["\u0275\u0275directiveInject"](D.f),E["\u0275\u0275directiveInject"](c.a),E["\u0275\u0275directiveInject"](d.a),E["\u0275\u0275directiveInject"](p.a),E["\u0275\u0275directiveInject"](g.a),E["\u0275\u0275directiveInject"](v.a),E["\u0275\u0275directiveInject"](f.a),E["\u0275\u0275directiveInject"](y.a),E["\u0275\u0275directiveInject"](w.a),E["\u0275\u0275directiveInject"](b.a))},e.\u0275cmp=E["\u0275\u0275defineComponent"]({type:e,selectors:[["fury-add-or-update-conge"]],features:[E["\u0275\u0275ProvidersFeature"]([{provide:h.f,useValue:"ja-JP"},{provide:h.c,useClass:m.c,deps:[h.f,m.a]},{provide:h.e,useValue:m.b}])],decls:41,vars:17,consts:[["mat-button","","mat-dialog-close","",1,"close"],["mat-dialog-title","",1,"titre_modal_add"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","24px"],["fxFlex","",4,"ngIf"],["fxFlex",""],["matInput","",3,"matAutocomplete","formControl"],["autoCompleteInput",""],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["type","button","mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["type","button","mat-icon-button","","matSuffix","",4,"ngIf"],["fxFlex","","color","accent","appearance","fill"],["formControlName","dateDepart","matInput","",3,"min","max","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker1",""],["type","number","formControlName","dureePrevisionnelle","maxlength","2","matInput","",3,"min","max"],["formControlName","description","matInput",""],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"disabled",4,"ngIf"],["matInput","","formControlName","code"],[3,"value","click"],["src","assets/img/users.png","height","16",2,"vertical-align","middle","margin-right","4px"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["type","button","mat-icon-button","","matSuffix",""],["mat-button","",3,"disabled"]],template:function(e,t){if(1&e&&(E["\u0275\u0275elementStart"](0,"div"),E["\u0275\u0275elementStart"](1,"mat-icon",0),E["\u0275\u0275text"](2,"close"),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementStart"](3,"div",1),E["\u0275\u0275text"](4,"AJOUTER CONGE"),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementStart"](5,"form",2),E["\u0275\u0275listener"]("ngSubmit",(function(){return t.save()})),E["\u0275\u0275elementStart"](6,"mat-dialog-content"),E["\u0275\u0275elementStart"](7,"div",3),E["\u0275\u0275template"](8,M,4,0,"mat-form-field",4),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementStart"](9,"div",3),E["\u0275\u0275elementStart"](10,"mat-form-field",5),E["\u0275\u0275elementStart"](11,"mat-label"),E["\u0275\u0275text"](12,"Agent"),E["\u0275\u0275elementEnd"](),E["\u0275\u0275element"](13,"input",6,7),E["\u0275\u0275elementStart"](15,"mat-autocomplete",null,8),E["\u0275\u0275template"](17,I,7,3,"mat-option",9),E["\u0275\u0275pipe"](18,"async"),E["\u0275\u0275elementEnd"](),E["\u0275\u0275template"](19,R,3,0,"button",10),E["\u0275\u0275template"](20,z,3,0,"button",11),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementStart"](21,"div",3),E["\u0275\u0275elementStart"](22,"mat-form-field",12),E["\u0275\u0275elementStart"](23,"mat-label"),E["\u0275\u0275text"](24,"Date D\xe9part"),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementStart"](25,"input",13),E["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onDateChange(e)})),E["\u0275\u0275elementEnd"](),E["\u0275\u0275element"](26,"mat-datepicker-toggle",14),E["\u0275\u0275element"](27,"mat-datepicker",null,15),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementStart"](29,"mat-form-field",12),E["\u0275\u0275elementStart"](30,"mat-label"),E["\u0275\u0275text"](31,"Nombre de Jours"),E["\u0275\u0275elementEnd"](),E["\u0275\u0275element"](32,"input",16),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementStart"](33,"div",3),E["\u0275\u0275elementStart"](34,"mat-form-field",5),E["\u0275\u0275elementStart"](35,"mat-label"),E["\u0275\u0275text"](36,"Commentaire"),E["\u0275\u0275elementEnd"](),E["\u0275\u0275element"](37,"textarea",17),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementStart"](38,"mat-dialog-actions",18),E["\u0275\u0275template"](39,L,2,1,"button",19),E["\u0275\u0275template"](40,P,2,1,"button",19),E["\u0275\u0275elementEnd"](),E["\u0275\u0275elementEnd"]()),2&e){const e=E["\u0275\u0275reference"](16),n=E["\u0275\u0275reference"](28);E["\u0275\u0275advance"](5),E["\u0275\u0275property"]("formGroup",t.form),E["\u0275\u0275advance"](3),E["\u0275\u0275property"]("ngIf","update"===t.mode),E["\u0275\u0275advance"](5),E["\u0275\u0275property"]("matAutocomplete",e)("formControl",t.agentCtrl),E["\u0275\u0275advance"](4),E["\u0275\u0275property"]("ngForOf",E["\u0275\u0275pipeBind1"](18,15,t.filteredAgents)),E["\u0275\u0275advance"](2),E["\u0275\u0275property"]("ngIf",t.agentCtrl.value),E["\u0275\u0275advance"](1),E["\u0275\u0275property"]("ngIf",!t.agentCtrl.value),E["\u0275\u0275advance"](5),E["\u0275\u0275property"]("min",t.minDateDepart)("max",t.maxDateDepart)("matDatepicker",n),E["\u0275\u0275advance"](1),E["\u0275\u0275property"]("for",n),E["\u0275\u0275advance"](6),E["\u0275\u0275property"]("min",0)("max",40),E["\u0275\u0275advance"](7),E["\u0275\u0275property"]("ngIf",t.isCreateMode()),E["\u0275\u0275advance"](1),E["\u0275\u0275property"]("ngIf",t.isUpdateMode())}},directives:[S.a,i.d,i.h,r.x,r.p,r.i,i.e,C.d,C.e,O.m,T.d,C.b,T.h,k.b,x.c,r.c,r.o,r.f,x.a,O.l,j.d,r.g,j.f,T.j,j.c,r.s,r.k,i.c,C.c,h.o,A.b],pipes:[O.b],styles:[".monIcon[_ngcontent-%COMP%]{float:right}.monIcon[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:grey}"]}),e})()},"E/Os":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o}));let i=(()=>{class e{}return e.saisi="SAISI",e.ouvert="OUVERT",e.fermer="FERME",e.position=1,e})(),r=(()=>{class e{}return e.saisi="SAISI",e.encours="OUVERT",e.valider="VALIDE",e.ouvert="PLANNING CONGE OUVERT",e})(),a=(()=>{class e{}return e.saisi="SAISI",e.transmis="TRANSMIS",e.imputer="IMPUTE",e.encours="OUVERT",e.valider="VALIDE",e.cloturer="CLOTURE",e})(),o=(()=>{class e{}return e.saisi="SAISI",e.encours="MISE EN VALIDATION",e.valider="VALIDE",e.rejeter="REJETE",e.reporter="REPORTE",e.enconger="EN-CONGE",e.cloturer="CLOTURE",e})()},G4mU:function(e,t,n){"use strict";var i=n("lkxz");t.a=function(e,t){var n=t?Object(i.a)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},UudT:function(e,t,n){"use strict";var i=n("U6JX"),r=Object(i.a)(Object.getPrototypeOf,Object);t.a=r},WehO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("8lb9");function r(e){return Object(i.a)(Object(i.a)({},function(e){return{addDays:function(t,n){return e(t).add(n,"days").toDate()},addHours:function(t,n){return e(t).add(n,"hours").toDate()},addMinutes:function(t,n){return e(t).add(n,"minutes").toDate()},addSeconds:function(t,n){return e(t).add(n,"seconds").toDate()},differenceInDays:function(t,n){return e(t).diff(e(n),"days")},differenceInMinutes:function(t,n){return e(t).diff(e(n),"minutes")},differenceInSeconds:function(t,n){return e(t).diff(e(n),"seconds")},endOfDay:function(t){return e(t).endOf("day").toDate()},endOfMonth:function(t){return e(t).endOf("month").toDate()},endOfWeek:function(t){return e(t).endOf("week").toDate()},getDay:function(t){return e(t).day()},getMonth:function(t){return e(t).month()},isSameDay:function(t,n){return e(t).isSame(e(n),"day")},isSameMonth:function(t,n){return e(t).isSame(e(n),"month")},isSameSecond:function(t,n){return e(t).isSame(e(n),"second")},max:function(t){return e.max(t.map((function(t){return e(t)}))).toDate()},setHours:function(t,n){return e(t).hours(n).toDate()},setMinutes:function(t,n){return e(t).minutes(n).toDate()},startOfDay:function(t){return e(t).startOf("day").toDate()},startOfMinute:function(t){return e(t).startOf("minute").toDate()},startOfMonth:function(t){return e(t).startOf("month").toDate()},startOfWeek:function(t){return e(t).startOf("week").toDate()},getHours:function(t){return e(t).hours()},getMinutes:function(t){return e(t).minutes()}}}(e)),{addWeeks:function(t,n){return e(t).add(n,"weeks").toDate()},addMonths:function(t,n){return e(t).add(n,"months").toDate()},subDays:function(t,n){return e(t).subtract(n,"days").toDate()},subWeeks:function(t,n){return e(t).subtract(n,"weeks").toDate()},subMonths:function(t,n){return e(t).subtract(n,"months").toDate()},getISOWeek:function(t){return e(t).isoWeek()},setDate:function(t,n){return e(t).date(n).toDate()},setMonth:function(t,n){return e(t).month(n).toDate()},setYear:function(t,n){return e(t).year(n).toDate()},getDate:function(t){return e(t).date()},getYear:function(t){return e(t).year()}})}},dYt1:function(e,t,n){"use strict";var i=n("oSzE"),r=n("ILaC"),a=n("23KU"),o=n("+EKe"),s=n("mkut"),l=n("4/q3"),c=n("3/ER"),d=n("eAQQ"),u=n("jN84"),p=n("tPH9"),m=n("UudT"),h=n("WJ6P"),g=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Object(p.a)(t,Object(u.a)(e)),e=Object(m.a)(e);return t}:h.a,v=n("TFwu"),f=n("25cm"),y=function(e){return Object(f.a)(e,l.a,g)},w=n("YM6B"),b=Object.prototype.hasOwnProperty,E=n("lkxz"),D=/\w*$/,S=n("ylTp"),C=S.a?S.a.prototype:void 0,O=C?C.valueOf:void 0,T=n("G4mU"),k=n("hYPf"),x=n("/1FC"),j=n("WOAq"),A=n("EUcb"),M=n("ovuK"),I=n("xutz"),R=I.a&&I.a.isMap,z=R?Object(M.a)(R):function(e){return Object(A.a)(e)&&"[object Map]"==Object(w.a)(e)},L=n("IzLi"),P=I.a&&I.a.isSet,H=P?Object(M.a)(P):function(e){return Object(A.a)(e)&&"[object Set]"==Object(w.a)(e)},F={};F["[object Arguments]"]=F["[object Array]"]=F["[object ArrayBuffer]"]=F["[object DataView]"]=F["[object Boolean]"]=F["[object Date]"]=F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Map]"]=F["[object Number]"]=F["[object Object]"]=F["[object RegExp]"]=F["[object Set]"]=F["[object String]"]=F["[object Symbol]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F["[object Error]"]=F["[object Function]"]=F["[object WeakMap]"]=!1;var B=function e(t,n,p,m,h,f){var S,C=1&n,A=2&n,M=4&n;if(p&&(S=h?p(t,m,h,f):p(t)),void 0!==S)return S;if(!Object(L.a)(t))return t;var I=Object(x.a)(t);if(I){if(S=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&b.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!C)return Object(d.a)(t,S)}else{var R=Object(w.a)(t),P="[object Function]"==R||"[object GeneratorFunction]"==R;if(Object(j.a)(t))return Object(c.a)(t,C);if("[object Object]"==R||"[object Arguments]"==R||P&&!h){if(S=A||P?{}:Object(k.a)(t),!C)return A?function(e,t){return Object(o.a)(e,g(e),t)}(t,function(e,t){return e&&Object(o.a)(t,Object(l.a)(t),e)}(S,t)):function(e,t){return Object(o.a)(e,Object(u.a)(e),t)}(t,function(e,t){return e&&Object(o.a)(t,Object(s.a)(t),e)}(S,t))}else{if(!F[R])return h?t:{};S=function(e,t,n){var i,r,a=e.constructor;switch(t){case"[object ArrayBuffer]":return Object(E.a)(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return function(e,t){var n=t?Object(E.a)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Object(T.a)(e,n);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(r=new(i=e).constructor(i.source,D.exec(i))).lastIndex=i.lastIndex,r;case"[object Set]":return new a;case"[object Symbol]":return O?Object(O.call(e)):{}}}(t,R,C)}}f||(f=new i.a);var B=f.get(t);if(B)return B;f.set(t,S),H(t)?t.forEach((function(i){S.add(e(i,n,p,i,t,f))})):z(t)&&t.forEach((function(i,r){S.set(r,e(i,n,p,r,t,f))}));var W=M?A?y:v.a:A?keysIn:s.a,V=I?void 0:W(t);return Object(r.a)(V||t,(function(i,r){V&&(i=t[r=i]),Object(a.a)(S,r,e(i,n,p,r,t,f))})),S};t.a=function(e){return B(e,4)}},eAQQ:function(e,t,n){"use strict";t.a=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},gdFD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e){null!=e&&(this.id=e.id,this.code=e.code,this.dateDepart=e.dateDepart,this.annee=e.annee,this.mois=e.mois,this.dateRetourPrevisionnelle=e.dateRetourPrevisionnelle,this.dateRetourEffectif=e.dateRetourEffectif,this.dateSaisie=e.dateSaisie,this.etat=e.etat,this.niveau=e.niveau,this.etape=e.etape,this.description=e.description,this.codeDecision=e.codeDecision,this.dureeRestante=e.dureeRestante,this.solde=e.solde,this.agent=e.agent,this.planningConge=e.planningConge,this.dureePrevisionnelle=e.dureePrevisionnelle,this.dureeEffective=e.dureeEffective)}}},hYPf:function(e,t,n){"use strict";var i=n("IzLi"),r=Object.create,a=function(){function e(){}return function(t){if(!Object(i.a)(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),o=n("UudT"),s=n("pyRK");t.a=function(e){return"function"!=typeof e.constructor||Object(s.a)(e)?{}:a(Object(o.a)(e))}},kRoH:function(e,t,n){"use strict";n.d(t,"a",(function(){return si})),n.d(t,"b",(function(){return di})),n.d(t,"c",(function(){return Gn})),n.d(t,"d",(function(){return ti})),n.d(t,"e",(function(){return gn})),n.d(t,"f",(function(){return In})),n.d(t,"g",(function(){return Rn})),n.d(t,"h",(function(){return Pn}));var i=n("8lb9"),r=n("fXoL"),a=n("ofXK"),o=/\s+/,s=new(function(){function e(){}return e.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},e.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},e.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},e.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},e.prototype.position=function(e,t){var n;void 0===t&&(t=!0);var i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n={top:(n=e.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var r=this.offsetParent(e);n=this.offset(e,!1),r!==document.documentElement&&(i=this.offset(r,!1)),i.top+=r.clientTop,i.left+=r.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},e.prototype.offset=function(e,t){void 0===t&&(t=!0);var n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft,a={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return t&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a},e.prototype.positionElements=function(e,t,n,i){var r=n.split("-"),a=r[0],o=void 0===a?"top":a,s=r[1],l=void 0===s?"center":s,c=i?this.offset(e,!1):this.position(e,!1),d=this.getAllStyles(t),u=parseFloat(d.marginTop),p=parseFloat(d.marginBottom),m=parseFloat(d.marginLeft),h=parseFloat(d.marginRight),g=0,v=0;switch(o){case"top":g=c.top-(t.offsetHeight+u+p);break;case"bottom":g=c.top+c.height;break;case"left":v=c.left-(t.offsetWidth+m+h);break;case"right":v=c.left+c.width}switch(l){case"top":g=c.top;break;case"bottom":g=c.top+c.height-t.offsetHeight;break;case"left":v=c.left;break;case"right":v=c.left+c.width-t.offsetWidth;break;case"center":"top"===o||"bottom"===o?v=c.left+c.width/2-t.offsetWidth/2:g=c.top+c.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(v)+"px, "+Math.round(g)+"px)";var f=t.getBoundingClientRect(),y=document.documentElement,w=window.innerHeight||y.clientHeight,b=window.innerWidth||y.clientWidth;return f.left>=0&&f.top>=0&&f.right<=b&&f.bottom<=w},e}()),l=n("XNiG"),c=n("LRne"),d=n("PqYM"),u=n("HDdC"),p=n("2Vo4"),m=n("D0XW"),h=n("Y7HM");function g(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var v=n("1G5W"),f=n("eIep"),y=n("JX91"),w=n("lJxs"),b=function(){return(b=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},E=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i},D=function(e){return e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY",e}({}),S=[D.SUNDAY,D.SATURDAY];function C(e,t){var n=t.startDate,i=t.excluded,r=t.precision;if(i.length<1)return 0;for(var a=e.getDay,o=e.addDays,s=(0,e.addSeconds)(n,t.seconds-1),l=a(n),c=a(s),d=0,u=n,p=function(){var t=a(u);i.some((function(e){return e===t}))&&(d+=function(e,t){var n=t.day,i=t.dayEnd,r=t.startDate,a=t.endDate,o=e.differenceInSeconds,s=e.startOfDay;if("minutes"===t.precision){if(n===t.dayStart)return o((0,e.endOfDay)(r),r)+1;if(n===i)return o(a,s(a))+1}return 86400}(e,{dayStart:l,dayEnd:c,day:t,precision:r,startDate:n,endDate:s})),u=o(u,1)};u<s;)p();return d}function O(e,t){var n=t.periodStart,i=t.periodEnd;return t.events.filter((function(t){return function(e,t){var n=t.event,i=t.periodStart,r=t.periodEnd,a=e.isSameSecond,o=n.start,s=n.end||n.start;return o>i&&o<r||s>i&&s<r||o<i&&s>r||!(!a(o,i)&&!a(o,r))||!(!a(s,i)&&!a(s,r))}(e,{event:t,periodStart:n,periodEnd:i})}))}function T(e,t){var n=t.date,i=t.weekendDays,r=void 0===i?S:i,a=e.isSameDay,o=e.getDay,s=(0,e.startOfDay)(new Date),l=o(n);return{date:n,day:l,isPast:n<s,isToday:a(n,s),isFuture:n>s,isWeekend:r.indexOf(l)>-1}}function k(e,t){for(var n=t.excluded,i=void 0===n?[]:n,r=t.weekendDays,a=t.viewStart,o=void 0===a?e.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):a,s=t.viewEnd,l=void 0===s?e.addDays(o,7):s,c=e.addDays,d=e.getDay,u=[],p=o;p<l;)i.some((function(e){return d(p)===e}))||u.push(T(e,{date:p,weekendDays:r})),p=c(p,1);return u}function x(e,t){var n=t.events,i=void 0===n?[]:n,r=t.excluded,a=void 0===r?[]:r,o=t.precision,s=void 0===o?"days":o,l=t.absolutePositionedEvents,c=void 0!==l&&l,d=t.viewStart,u=t.viewEnd;d=e.startOfDay(d),u=e.endOfDay(u);var p=e.differenceInSeconds,m=e.differenceInDays,h=function(e,t){for(var n=t.date2,i=t.excluded,r=t.date1,a=0;r<n;)-1===i.indexOf(e.getDay(r))&&a++,r=e.addDays(r,1);return a}(e,{date1:d,date2:u,excluded:a}),g=m(u,d)+1,v=i.filter((function(e){return e.allDay})).map((function(t){var n=function(e,t){var n=t.event,i=t.startOfWeek,r=t.excluded,a=t.precision,o=e.differenceInDays,s=e.startOfDay,l=e.differenceInSeconds;if(n.start<i)return 0;var c=0;switch(a){case"days":c=86400*o(s(n.start),i);break;case"minutes":c=l(n.start,i)}return c-=C(e,{startDate:i,seconds:c,excluded:r,precision:a}),Math.abs(c/86400)}(e,{event:t,startOfWeek:d,excluded:a,precision:s});return{event:t,offset:n,span:function(e,t){var n=t.event,i=t.offset,r=t.excluded,a=t.precision,o=t.totalDaysInView,s=e.differenceInSeconds,l=e.addDays,c=e.endOfDay,d=e.differenceInDays,u=86400,p=(0,e.max)([n.start,t.startOfWeekDate]);if(n.end)switch(a){case"minutes":u=s(n.end,p);break;default:u=86400*d(l(c(n.end),1),p)}var m=86400*i,h=86400*o;return m+u>h&&(u=h-m),(u-=C(e,{startDate:p,seconds:u,excluded:r,precision:a}))/86400}(e,{event:t,offset:n,startOfWeekDate:d,excluded:a,precision:s,totalDaysInView:g})}})).filter((function(e){return e.offset<h})).filter((function(e){return e.span>0})).map((function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<d,endsAfterWeek:(e.event.end||e.event.start)>u}})).sort((function(e,t){var n=p(e.event.start,t.event.start);return 0===n?p(t.event.end||t.event.start,e.event.end||e.event.start):n})),f=[],y=[];return v.forEach((function(e,t){if(-1===y.indexOf(e)){y.push(e);var n=e.span+e.offset,i=v.slice(t+1).filter((function(e){if(e.offset>=n&&n+e.span<=g&&-1===y.indexOf(e)){var t=e.offset-n;return c||(e.offset=t),n+=e.span+t,y.push(e),!0}})),r=E([e],i),a=r.filter((function(e){return e.event.id})).map((function(e){return e.event.id})).join("-");f.push(b({row:r},a?{id:a}:{}))}})),f}function j(e,t){var n=t.events,i=t.viewDate,r=t.hourSegments,a=t.hourDuration,o=t.dayStart,s=t.dayEnd,l=t.weekStartsOn,c=t.excluded,d=t.weekendDays,u=t.segmentHeight,p=t.viewStart,m=t.viewEnd,h=t.minimumEventHeight,g=function(e,t){var n=t.viewDate,i=t.hourSegments,r=t.hourDuration,a=t.dayStart,o=t.dayEnd,s=e.setMinutes,l=e.setHours,c=e.startOfDay,d=e.startOfMinute,u=e.endOfDay,p=e.addMinutes,m=e.addDays,h=[],g=s(l(c(n),M(a.hour)),I(a.minute)),v=s(l(d(u(n)),M(o.hour)),I(o.minute)),f=(r||60)/i,y=c(n),w=u(n),b=function(e){return e};y.getTimezoneOffset()!==w.getTimezoneOffset()&&(y=m(y,1),g=m(g,1),v=m(v,1),b=function(e){return m(e,-1)});for(var E=r?1440/r:60,D=0;D<E;D++){for(var S=[],C=0;C<i;C++){var O=p(p(g,D*(r||60)),C*f);O>=g&&O<v&&S.push({date:b(O),displayDate:O,isStart:0===C})}S.length>0&&h.push({segments:S})}return h}(e,{viewDate:i,hourSegments:r,hourDuration:a,dayStart:o,dayEnd:s}),v=k(e,{viewDate:i,weekStartsOn:l,excluded:c,weekendDays:d,viewStart:p,viewEnd:m}),f=e.setHours,y=e.setMinutes,w=e.getHours,E=e.getMinutes;return v.map((function(t){var i=function(e,t){var n=t.events,i=t.viewDate,r=t.hourSegments,a=t.dayStart,o=t.dayEnd,s=t.eventWidth,l=t.segmentHeight,c=t.hourDuration,d=t.minimumEventHeight,u=e.setMinutes,p=e.setHours,m=e.startOfDay,h=e.startOfMinute,g=e.endOfDay,v=e.differenceInMinutes,f=u(p(m(i),M(a.hour)),I(a.minute)),y=u(p(h(g(i)),M(o.hour)),I(o.minute));y.setSeconds(59,999);var w=[],b=O(e,{events:n.filter((function(e){return!e.allDay})),periodStart:f,periodEnd:y}),E=b.sort((function(e,t){return e.start.valueOf()-t.start.valueOf()})).map((function(e){var t=e.start,n=e.end||t,i=t<f,a=n>y,o=r*l/(c||60),u=0;if(t>f){var p=t.getTimezoneOffset(),m=f.getTimezoneOffset()-p;u+=v(t,f)+m}u*=o;var h=i?f:t,g=a?y:n,b=h.getTimezoneOffset()-g.getTimezoneOffset(),E=v(g,h)+b;e.end?E*=o:E=l,d&&E<d&&(E=d);for(var D=A(w,u,u+E),S=0;D.some((function(e){return e.left===S}));)S+=s;var C={event:e,height:E,width:s,top:u,left:S,startsBeforeDay:i,endsAfterDay:a};return w.push(C),C})),D=Math.max.apply(Math,E.map((function(e){return e.left+e.width})));return{events:E,width:D,allDayEvents:O(e,{events:n.filter((function(e){return e.allDay})),periodStart:m(f),periodEnd:g(y)}),period:{events:b,start:f,end:y}}}(e,{events:n,viewDate:t.date,hourSegments:r,dayStart:o,dayEnd:s,segmentHeight:u,eventWidth:1,hourDuration:a,minimumEventHeight:h}),l=g.map((function(e){var n=e.segments.map((function(e){var n=y(f(t.date,w(e.date)),E(e.date));return b(b({},e),{date:n})}));return b(b({},e),{segments:n})})),c=i.events.map((function(e){var t=100/function e(t,n){var i=Math.max.apply(Math,n.map((function(e){return e.left+1}))),r=t.filter((function(e){return e.left>=i})).filter((function(e){return A(n,e.top,e.top+e.height).length>0}));return r.length>0?e(t,r):i}(i.events,A(i.events,e.top,e.top+e.height));return b(b({},e),{left:e.left*t,width:t})}));return{hours:l,date:t.date,events:c.map((function(e){var t=A(c.filter((function(t){return t.left>e.left})),e.top,e.top+e.height);return t.length>0?b(b({},e),{width:Math.min.apply(Math,t.map((function(e){return e.left})))-e.left}):e}))}}))}function A(e,t,n){return e.filter((function(e){var i=e.top,r=e.top+e.height;return t<r&&r<n||t<i&&i<n||i<=t&&n<=r}))}function M(e){return Math.max(Math.min(23,e),0)}function I(e){return Math.max(Math.min(59,e),0)}var R=function(e){return e.NotArray="Events must be an array",e.StartPropertyMissing="Event is missing the `start` property",e.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",e.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",e.EndsBeforeStart="Event `start` property occurs after the `end`",e}({}),z=n("jtHE"),L=n("VRyK"),P=n("itXk"),H=n("xgIS");function F(e,t){var n,i;return i=t,"function"==typeof(e=void 0===(n=e)?void 0===i?n:i:n)?function(){for(var t=arguments,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=t[r];return!!e.apply(this,i)}:e?function(){return!0}:function(){return!1}}var B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},W=function(e){return null!=e&&"object"===(void 0===e?"undefined":B(e))&&1===e.nodeType&&"object"===B(e.style)&&"object"===B(e.ownerDocument)};function V(e,t){if(t=U(t,!0),!W(t))return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function Y(e,t){return-1!==V(e,t)}function X(e,t){for(var n=0;n<t.length;n++)Y(e,t[n])||e.push(t[n]);return t}function $(e){for(var t=arguments,n=[],i=arguments.length-1;i-- >0;)n[i]=t[i+1];return X(e,n=n.map(U))}function N(e){for(var t=arguments,n=[],i=arguments.length-1;i-- >0;)n[i]=t[i+1];return n.map(U).reduce((function(t,n){var i=V(e,n);return-1!==i?t.concat(e.splice(i,1)):t}),[])}function U(e,t){if("string"==typeof e)try{return document.querySelector(e)}catch(n){throw n}if(!W(e)&&!t)throw new TypeError(e+" is not a DOM element.");return e}function G(e){if(e===window)return function(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var t={};return Object.defineProperties(t,e),t}();try{var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch(n){throw new TypeError("Can't call getBoundingClientRect on "+e)}}var K,q=void 0;"function"!=typeof Object.create?(K=function(){},q=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");K.prototype=e||{};var n=new K;return K.prototype=null,void 0!==t&&Object.defineProperties(n,t),null===e&&(n.__proto__=null),n}):q=Object.create;var _=q,J=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Z(e,t){t=t||{};for(var n=_(e),i=0;i<J.length;i++)void 0!==t[J[i]]&&(n[J[i]]=t[J[i]]);return n}function Q(e,t){console.log("data ",t),e.data=t||{},e.dispatched="mousemove"}var ee=["webkit","moz","ms","o"],te=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=ee.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[ee[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-t-n),r=window.setTimeout((function(){return e(t+i)}),i);return n=t+i,r}}return window.requestAnimationFrame.bind(window)}(),ne=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=ee.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[ee[e]+"CancelAnimationFrame"]||window[ee[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function ie(e,t){void 0===t&&(t={});var n=this,i=4,r=!1;if("object"!=typeof t.margin){var a=t.margin||-1;this.margin={left:a,right:a,top:a,bottom:a}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var o,s={},l=function(e,t){var n=F((t=t||{}).allowUpdate,!0);return function(t){if(t=t||window.event,e.target=t.target||t.srcElement||t.originalTarget,e.element=this,e.type=t.type,n(t)){if(t.targetTouches)e.x=t.targetTouches[0].clientX,e.y=t.targetTouches[0].clientY,e.pageX=t.targetTouches[0].pageX,e.pageY=t.targetTouches[0].pageY,e.screenX=t.targetTouches[0].screenX,e.screenY=t.targetTouches[0].screenY;else{if(null===t.pageX&&null!==t.clientX){var i=t.target&&t.target.ownerDocument||document,r=i.documentElement,a=i.body;e.pageX=t.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}else e.pageX=t.pageX,e.pageY=t.pageY;e.x=t.clientX,e.y=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY}e.clientX=e.x,e.clientY=e.y}}}(s),c=(o={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null},{destroy:function(){o=null},dispatch:MouseEvent?function(e,t,n){var i=new MouseEvent("mousemove",Z(o,t));return Q(i,n),e.dispatchEvent(i)}:"function"==typeof document.createEvent?function(e,t,n){var i=Z(o,t),r=document.createEvent("MouseEvents");return r.initMouseEvent("mousemove",!0,!0,window,0,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget),Q(r,n),e.dispatchEvent(r)}:"function"==typeof document.createEventObject?function(e,t,n){var i=document.createEventObject(),r=Z(o,t);for(var a in r)i[a]=r[a];return Q(i,n),e.dispatchEvent(i)}:void 0}),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=F(t.autoScroll),this.syncMove=F(t.syncMove,!1),this.destroy=function(t){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",f,!1),window.removeEventListener("touchstart",f,!1),window.removeEventListener("mouseup",y,!1),window.removeEventListener("touchend",y,!1),window.removeEventListener("pointerup",y,!1),window.removeEventListener("mouseleave",b,!1),window.removeEventListener("mousemove",D,!1),window.removeEventListener("touchmove",D,!1),window.removeEventListener("scroll",v,!0),e=[],t&&w()},this.add=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return $.apply(void 0,[e].concat(t)),this},this.remove=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return N.apply(void 0,[e].concat(t))};var u,p,m=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),p=e,e=[],p.forEach((function(e){e===window?m=window:n.add(e)})),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return i}},point:{get:function(){return s}},scrolling:{get:function(){return r}}});var h,g=null;function v(t){for(var n=0;n<e.length;n++)if(e[n]===t.target){r=!0;break}r&&te((function(){return r=!1}))}function f(){d=!0}function y(){d=!1,w()}function w(){ne(h),ne(u)}function b(){d=!1}function E(){for(var t=null,n=0;n<e.length;n++)re(s,e[n])&&(t=e[n]);return t}function D(t){if(n.autoScroll()&&!t.dispatched){var i=t.target,r=document.body;g&&!re(s,g)&&(n.scrollWhenOutside||(g=null)),i&&i.parentNode===r?i=E():(i=function(t){if(!t)return null;if(g===t)return t;if(Y(e,t))return t;for(;t=t.parentNode;)if(Y(e,t))return t;return null}(i))||(i=E()),i&&i!==g&&(g=i),m&&(ne(u),u=te(S)),g&&(ne(h),h=te(C))}}function S(){O(m),ne(u),u=te(S)}function C(){g&&(O(g),ne(h),h=te(C))}function O(e){var t,i,r=G(e);t=s.x<r.left+n.margin.left?Math.floor(Math.max(-1,(s.x-r.left)/n.margin.left-1)*n.maxSpeed.left):s.x>r.right-n.margin.right?Math.ceil(Math.min(1,(s.x-r.right)/n.margin.right+1)*n.maxSpeed.right):0,i=s.y<r.top+n.margin.top?Math.floor(Math.max(-1,(s.y-r.top)/n.margin.top-1)*n.maxSpeed.top):s.y>r.bottom-n.margin.bottom?Math.ceil(Math.min(1,(s.y-r.bottom)/n.margin.bottom+1)*n.maxSpeed.bottom):0,n.syncMove()&&c.dispatch(e,{pageX:s.pageX+t,pageY:s.pageY+i,clientX:s.x+t,clientY:s.y+i}),setTimeout((function(){i&&function(e,t){e===window?window.scrollTo(e.pageXOffset,e.pageYOffset+t):e.scrollTop+=t}(e,i),t&&function(e,t){e===window?window.scrollTo(e.pageXOffset+t,e.pageYOffset):e.scrollLeft+=t}(e,t)}))}window.addEventListener("mousedown",f,!1),window.addEventListener("touchstart",f,!1),window.addEventListener("mouseup",y,!1),window.addEventListener("touchend",y,!1),window.addEventListener("pointerup",y,!1),window.addEventListener("mousemove",D,!1),window.addEventListener("touchmove",D,!1),window.addEventListener("mouseleave",b,!1),window.addEventListener("scroll",v,!0)}function re(e,t,n){return n?e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right:function(e,t){var n=G(t);return e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right}(e,t)}var ae=n("pLZG"),oe=n("5+tZ"),se=n("w1tV"),le=n("IzEk"),ce=n("BFxc"),de=n("7o/Q");class ue{constructor(e,t){this.predicate=e,this.source=t}call(e,t){return t.subscribe(new pe(e,this.predicate,this.source))}}class pe extends de.a{constructor(e,t,n){super(e),this.predicate=t,this.source=n,this.count=0,this.index=0}_next(e){this.predicate?this._tryPredicate(e):this.count++}_tryPredicate(e){let t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}var me=n("Zy1z"),he=n("/uUt");let ge=(()=>{class e{constructor(){this.currentDrag=new l.a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),ve=(()=>{class e{constructor(e){this.elementRef=e,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),e})();function fe(e,t,n){n&&n.split(" ").forEach(n=>e.addClass(t.nativeElement,n))}function ye(e,t,n){n&&n.split(" ").forEach(n=>e.removeClass(t.nativeElement,n))}let we=(()=>{class e{constructor(e,t,n,i,a,o,s){this.element=e,this.renderer=t,this.draggableHelper=n,this.zone=i,this.vcr=a,this.scrollContainer=o,this.document=s,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new r.EventEmitter,this.dragStart=new r.EventEmitter,this.ghostElementCreated=new r.EventEmitter,this.dragging=new r.EventEmitter,this.dragEnd=new r.EventEmitter,this.pointerDown$=new l.a,this.pointerMove$=new l.a,this.pointerUp$=new l.a,this.eventListenerSubscriptions={},this.destroy$=new l.a,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Object(ae.a)(()=>this.canDrag()),Object(oe.a)(e=>{e.event.stopPropagation&&!this.scrollContainer&&e.event.stopPropagation();const t=this.renderer.createElement("style");this.renderer.setAttribute(t,"type","text/css"),this.renderer.appendChild(t,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(t)});const n=this.getScrollPosition(),i=new u.a(e=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",t=>e.next(t))).pipe(Object(y.a)(n),Object(w.a)(()=>this.getScrollPosition())),r=new l.a,a=new z.a;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const o=Object(L.a)(this.pointerUp$,this.pointerDown$,a,this.destroy$).pipe(Object(se.a)()),s=Object(P.a)([this.pointerMove$,i]).pipe(Object(w.a)(([t,n])=>({currentDrag$:r,transformX:t.clientX-e.clientX,transformY:t.clientY-e.clientY,clientX:t.clientX,clientY:t.clientY,scrollLeft:n.left,scrollTop:n.top})),Object(w.a)(e=>(this.dragSnapGrid.x&&(e.transformX=Math.round(e.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(e.transformY=Math.round(e.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),e)),Object(w.a)(e=>(this.dragAxis.x||(e.transformX=0),this.dragAxis.y||(e.transformY=0),e)),Object(w.a)(e=>Object.assign({},e,{x:e.transformX+(e.scrollLeft-n.left),y:e.transformY+(e.scrollTop-n.top)})),Object(ae.a)(({x:e,y:t,transformX:n,transformY:i})=>!this.validateDrag||this.validateDrag({x:e,y:t,transform:{x:n,y:i}})),Object(v.a)(o),Object(se.a)()),c=s.pipe(Object(le.a)(1),Object(se.a)()),d=s.pipe(Object(ce.a)(1),Object(se.a)());return c.subscribe(({clientX:e,clientY:t,x:n,y:i})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:a})}),this.scroller=new ie([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign({},this.autoScroll,{autoScroll:()=>!0})),fe(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const r=this.element.nativeElement.getBoundingClientRect(),a=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(a):this.element.nativeElement.parentNode.insertBefore(a,this.element.nativeElement.nextSibling),this.ghostElement=a,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(a,{position:"fixed",top:r.top+"px",left:r.left+"px",width:r.width+"px",height:r.height+"px",cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const e=this.vcr.createEmbeddedView(this.ghostElementTemplate);a.innerHTML="",e.rootNodes.filter(e=>e instanceof Node).forEach(e=>{a.appendChild(e)}),d.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(e))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:e-n,clientY:t-i,element:a})}),d.subscribe(()=>{a.parentElement.removeChild(a),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(r)}),d.pipe(Object(oe.a)(e=>{const t=a.pipe(e=>e.lift(new ue(void 0,e)),Object(le.a)(1),Object(w.a)(t=>Object.assign({},e,{dragCancelled:t>0})));return a.complete(),t})).subscribe(({x:e,y:t,dragCancelled:n})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:e,y:t,dragCancelled:n})}),ye(this.renderer,this.element,this.dragActiveClass),r.complete()}),Object(L.a)(o,d).pipe(Object(le.a)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(t)})}),s}),Object(se.a)());Object(L.a)(e.pipe(Object(le.a)(1),Object(w.a)(e=>[,e])),e.pipe(Object(me.a)())).pipe(Object(ae.a)(([e,t])=>!e||e.x!==t.x||e.y!==t.y),Object(w.a)(([e,t])=>t)).subscribe(({x:e,y:t,currentDrag$:n,clientX:i,clientY:r,transformX:a,transformY:o})=>{this.zone.run(()=>{this.dragging.next({x:e,y:t})}),requestAnimationFrame(()=>{if(this.ghostElement){const e=`translate3d(${a}px, ${o}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:e,"-webkit-transform":e,"-ms-transform":e,"-moz-transform":e,"-o-transform":e})}}),n.next({clientX:i,clientY:r,dropData:this.dropData})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),t=Object.keys(this.eventListenerSubscriptions).length>0;e&&!t?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",e=>{this.onMouseDown(e)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",e=>{this.onMouseUp(e)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",e=>{this.onTouchStart(e)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&t&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",e=>{this.pointerMove$.next({event:e,clientX:e.clientX,clientY:e.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let t,n,i;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),n=!1,i=this.hasScrollbar(),t=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const r=Object(H.a)(this.document,"contextmenu").subscribe(e=>{e.preventDefault()}),a=Object(H.a)(this.document,"touchmove",{passive:!1}).subscribe(r=>{(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&!n&&i&&(n=this.shouldBeginDrag(e,r,t)),(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&i&&!n||(r.preventDefault(),this.pointerMove$.next({event:r,clientX:r.targetTouches[0].clientX,clientY:r.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{r.unsubscribe(),a.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,t){Object.keys(t).forEach(n=>{this.renderer.setStyle(e,n,t[n])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,t,n){const i=this.getScrollPosition(),r=Math.abs(i.top-n.top),a=Math.abs(i.left-n.left),o=Math.abs(t.targetTouches[0].clientX-e.touches[0].clientX)-a,s=Math.abs(t.targetTouches[0].clientY-e.touches[0].clientY)-r,l=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(o+s>l.delta||r>0||a>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=l.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](ge),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](ve,8),r["\u0275\u0275directiveInject"](a.d))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e})();function be(e,t,n){return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}let Ee=(()=>{class e{constructor(e,t,n,i,a){this.element=e,this.draggableHelper=t,this.zone=n,this.renderer=i,this.scrollContainer=a,this.dragEnter=new r.EventEmitter,this.dragLeave=new r.EventEmitter,this.dragOver=new r.EventEmitter,this.drop=new r.EventEmitter}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{fe(this.renderer,this.element,this.dragActiveClass);const t={updateCache:!0},n=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{t.updateCache=!0});let i;const r=e.pipe(Object(w.a)(({clientX:e,clientY:n,dropData:r})=>{i=r,t.updateCache&&(t.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(t.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),t.updateCache=!1);const a=be(e,n,t.rect);return t.scrollContainerRect?a&&be(e,n,t.scrollContainerRect):a})),a=r.pipe(Object(he.a)());let o;a.pipe(Object(ae.a)(e=>e)).subscribe(()=>{o=!0,fe(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:i})})}),r.pipe(Object(ae.a)(e=>e)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:i})})}),a.pipe(Object(me.a)(),Object(ae.a)(([e,t])=>e&&!t)).subscribe(()=>{o=!1,ye(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:i})})}),e.subscribe({complete:()=>{n(),ye(this.renderer,this.element,this.dragActiveClass),o&&(ye(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:i})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](ge),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](ve,8))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),e})(),De=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})();var Se=n("EY2u"),Ce=n("vkgz"),Oe=n("3UWI");function Te(e,t,n=3){return Math.abs(e-t)<n}function ke(e,t,n,i){const r={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=n),t.right&&(r.right+=n),r.height=r.bottom-r.top,r.width=r.right-r.left,r}function xe({clientY:e,rect:t}){return e>=t.top&&e<=t.bottom}function je({clientX:e,rect:t}){return e>=t.left&&e<=t.right}function Ae({clientX:e,clientY:t,elm:n,allowedEdges:i,cursorPrecision:r}){const a=n.nativeElement.getBoundingClientRect(),o={};return i.left&&Te(e,a.left,r)&&xe({clientY:t,rect:a})&&(o.left=!0),i.right&&Te(e,a.right,r)&&xe({clientY:t,rect:a})&&(o.right=!0),i.top&&Te(t,a.top,r)&&je({clientX:e,rect:a})&&(o.top=!0),i.bottom&&Te(t,a.bottom,r)&&je({clientX:e,rect:a})&&(o.bottom=!0),o}const Me=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Ie(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function Re({edges:e,initialRectangle:t,newRectangle:n}){const i={};return Object.keys(e).forEach(e=>{i[e]=(n[e]||0)-(t[e]||0)}),i}let ze=(()=>{class e{constructor(e,t,n,i){this.platformId=e,this.renderer=t,this.elm=n,this.zone=i,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Me,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new r.EventEmitter,this.resizing=new r.EventEmitter,this.resizeEnd=new r.EventEmitter,this.mouseup=new l.a,this.mousedown=new l.a,this.mousemove=new l.a,this.destroy$=new l.a,this.resizeEdges$=new l.a,this.pointerEventListeners=Le.getInstance(t,i)}ngOnInit(){const e=Object(L.a)(this.pointerEventListeners.pointerDown,this.mousedown),t=Object(L.a)(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Object(Ce.a)(({event:e})=>{i&&e.preventDefault()}),Object(se.a)()),n=Object(L.a)(this.pointerEventListeners.pointerUp,this.mouseup);let i;const r=()=>{i&&i.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},a=()=>Object.assign({},Me,this.resizeCursors);this.resizeEdges$.pipe(Object(y.a)(this.resizeEdges),Object(w.a)(()=>this.resizeEdges&&Object.keys(this.resizeEdges).some(e=>!!this.resizeEdges[e])),Object(f.a)(e=>e?t:Se.a),Object(Oe.a)(this.mouseMoveThrottleMS),Object(v.a)(this.destroy$)).subscribe(({clientX:e,clientY:t})=>{const n=Ae({clientX:e,clientY:t,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}),r=a();if(!i){const e=Ie(n,r);this.renderer.setStyle(this.elm.nativeElement,"cursor",e)}this.setElementClass(this.elm,"resize-left-hover",!0===n.left),this.setElementClass(this.elm,"resize-right-hover",!0===n.right),this.setElementClass(this.elm,"resize-top-hover",!0===n.top),this.setElementClass(this.elm,"resize-bottom-hover",!0===n.bottom)}),e.pipe(Object(oe.a)(r=>{function a(e){return{clientX:e.clientX-r.clientX,clientY:e.clientY-r.clientY}}const o=()=>{const e={x:1,y:1};return i&&(this.resizeSnapGrid.left&&i.edges.left?e.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&i.edges.right&&(e.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&i.edges.top?e.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&i.edges.bottom&&(e.y=+this.resizeSnapGrid.bottom)),e};function s(e,t){return{x:Math.ceil(e.clientX/t.x),y:Math.ceil(e.clientY/t.y)}}return Object(L.a)(t.pipe(Object(le.a)(1)).pipe(Object(w.a)(e=>[,e])),t.pipe(Object(me.a)())).pipe(Object(w.a)(([e,t])=>[e?a(e):e,a(t)])).pipe(Object(ae.a)(([e,t])=>{if(!e)return!0;const n=o(),i=s(e,n),r=s(t,n);return i.x!==r.x||i.y!==r.y})).pipe(Object(w.a)(([,e])=>{const t=o();return{clientX:Math.round(e.clientX/t.x)*t.x,clientY:Math.round(e.clientY/t.y)*t.y}})).pipe(Object(v.a)(Object(L.a)(n,e)))})).pipe(Object(ae.a)(()=>!!i)).pipe(Object(w.a)(({clientX:e,clientY:t})=>ke(i.startingRect,i.edges,e,t))).pipe(Object(ae.a)(e=>this.allowNegativeResizes||!!(e.height&&e.width&&e.height>0&&e.width>0))).pipe(Object(ae.a)(e=>!this.validateResize||this.validateResize({rectangle:e,edges:Re({edges:i.edges,initialRectangle:i.startingRect,newRectangle:e})})),Object(v.a)(this.destroy$)).subscribe(e=>{i&&i.clonedNode&&(this.renderer.setStyle(i.clonedNode,"height",e.height+"px"),this.renderer.setStyle(i.clonedNode,"width",e.width+"px"),this.renderer.setStyle(i.clonedNode,"top",e.top+"px"),this.renderer.setStyle(i.clonedNode,"left",e.left+"px")),this.zone.run(()=>{this.resizing.emit({edges:Re({edges:i.edges,initialRectangle:i.startingRect,newRectangle:e}),rectangle:e})}),i.currentRect=e}),e.pipe(Object(w.a)(({clientX:e,clientY:t,edges:n})=>n||Ae({clientX:e,clientY:t,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}))).pipe(Object(ae.a)(e=>Object.keys(e).length>0),Object(v.a)(this.destroy$)).subscribe(e=>{i&&r();const t=function(e,t){let n=0,i=0;const r=e.nativeElement.style,a=["transform","-ms-transform","-moz-transform","-o-transform"].map(e=>r[e]).find(e=>!!e);if(a&&a.includes("translate")&&(n=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-i,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-i,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};{const t=e.nativeElement.getBoundingClientRect();return{height:t.height,width:t.width,top:t.top-i,bottom:t.bottom-i,left:t.left-n,right:t.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);i={edges:e,startingRect:t,currentRect:t};const n=a(),o=Ie(i.edges,n);this.renderer.setStyle(document.body,"cursor",o),this.setElementClass(this.elm,"resize-active",!0),this.enableGhostResize&&(i.clonedNode=this.elm.nativeElement.cloneNode(!0),this.elm.nativeElement.parentElement.appendChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(i.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(i.clonedNode,"left",i.startingRect.left+"px"),this.renderer.setStyle(i.clonedNode,"top",i.startingRect.top+"px"),this.renderer.setStyle(i.clonedNode,"height",i.startingRect.height+"px"),this.renderer.setStyle(i.clonedNode,"width",i.startingRect.width+"px"),this.renderer.setStyle(i.clonedNode,"cursor",Ie(i.edges,n)),this.renderer.addClass(i.clonedNode,"resize-ghost-element"),i.clonedNode.scrollTop=i.startingRect.scrollTop,i.clonedNode.scrollLeft=i.startingRect.scrollLeft),this.zone.run(()=>{this.resizeStart.emit({edges:Re({edges:e,initialRectangle:t,newRectangle:t}),rectangle:ke(t,{},0,0)})})}),n.pipe(Object(v.a)(this.destroy$)).subscribe(()=>{i&&(this.renderer.removeClass(this.elm.nativeElement,"resize-active"),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.zone.run(()=>{this.resizeEnd.emit({edges:Re({edges:i.edges,initialRectangle:i.startingRect,newRectangle:i.currentRect}),rectangle:i.currentRect})}),r(),i=null)})}ngOnChanges(e){e.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}ngOnDestroy(){Object(a.x)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}setElementClass(e,t,n){n?this.renderer.addClass(e.nativeElement,t):this.renderer.removeClass(e.nativeElement,t)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.PLATFORM_ID),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.NgZone))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e})();class Le{static getInstance(e,t){return Le.instance||(Le.instance=new Le(e,t)),Le.instance}constructor(e,t){this.pointerDown=new u.a(n=>{let i,r;return t.runOutsideAngular(()=>{i=e.listen("document","mousedown",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),r=e.listen("document","touchstart",e=>{n.next({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,event:e})})}),()=>{i(),r()}}).pipe(Object(se.a)()),this.pointerMove=new u.a(n=>{let i,r;return t.runOutsideAngular(()=>{i=e.listen("document","mousemove",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),r=e.listen("document","touchmove",e=>{n.next({clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY,event:e})})}),()=>{i(),r()}}).pipe(Object(se.a)()),this.pointerUp=new u.a(n=>{let i,r,a;return t.runOutsideAngular(()=>{i=e.listen("document","mouseup",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),r=e.listen("document","touchend",e=>{n.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})}),a=e.listen("document","touchcancel",e=>{n.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})})}),()=>{i(),r(),a()}}).pipe(Object(se.a)())}}let Pe=(()=>{class e{constructor(e,t,n,i){this.renderer=e,this.element=t,this.zone=n,this.resizable=i,this.resizeEdges={},this.eventListeners={}}ngOnDestroy(){this.unsubscribeEventListeners()}onMousedown(e,t,n){e.preventDefault(),this.zone.runOutsideAngular(()=>{this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",e=>{this.onMousemove(e,e.targetTouches[0].clientX,e.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",e=>{this.onMousemove(e,e.clientX,e.clientY)})),this.resizable.mousedown.next({clientX:t,clientY:n,edges:this.resizeEdges})})}onMouseup(e,t){this.zone.runOutsideAngular(()=>{this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:t,edges:this.resizeEdges})})}onMousemove(e,t,n){this.resizable.mousemove.next({clientX:t,clientY:n,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](ze))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mwlResizeHandle",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("touchstart",(function(e){return t.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}))("mousedown",(function(e){return t.onMousedown(e,e.clientX,e.clientY)}))("touchend",(function(e){return t.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))("touchcancel",(function(e){return t.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))("mouseup",(function(e){return t.onMouseup(e.clientX,e.clientY)}))},inputs:{resizeEdges:"resizeEdges"}}),e})(),He=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})();var Fe=n("R0Ic");const Be=function(e){return{action:e}};function We(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"a",5),r["\u0275\u0275listener"]("mwlClick",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit,a=r["\u0275\u0275nextContext"](2).event;return i.onClick({event:a,sourceEvent:n})}))("mwlKeydownEnter",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit,a=r["\u0275\u0275nextContext"](2).event;return i.onClick({event:a,sourceEvent:n})})),r["\u0275\u0275pipe"](1,"calendarA11y"),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275property"]("ngClass",e.cssClass)("innerHtml",e.label,r["\u0275\u0275sanitizeHtml"]),r["\u0275\u0275attribute"]("aria-label",r["\u0275\u0275pipeBind2"](1,3,r["\u0275\u0275pureFunction1"](6,Be,e),"actionButtonLabel"))}}function Ve(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span",3),r["\u0275\u0275template"](1,We,2,8,"a",4),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](),t=e.event,n=e.trackByActionId;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.actions)("ngForTrackBy",n)}}function Ye(e,t){1&e&&r["\u0275\u0275template"](0,Ve,2,2,"span",2),2&e&&r["\u0275\u0275property"]("ngIf",t.event.actions)}function Xe(e,t){}const $e=function(e,t){return{event:e,trackByActionId:t}},Ne=function(){return{}};function Ue(e,t){if(1&e&&(r["\u0275\u0275element"](0,"span",2),r["\u0275\u0275pipe"](1,"calendarEventTitle"),r["\u0275\u0275pipe"](2,"calendarA11y")),2&e){const e=t.event;r["\u0275\u0275property"]("innerHTML",r["\u0275\u0275pipeBind3"](1,2,e.title,t.view,e),r["\u0275\u0275sanitizeHtml"]),r["\u0275\u0275attribute"]("aria-hidden",r["\u0275\u0275pipeBind2"](2,6,r["\u0275\u0275pureFunction0"](9,Ne),"hideEventTitle"))}}function Ge(e,t){}const Ke=function(e,t){return{event:e,view:t}};function qe(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275element"](1,"div",3),r["\u0275\u0275element"](2,"div",4),r["\u0275\u0275elementEnd"]()),2&e){const e=t.contents;r["\u0275\u0275property"]("ngClass","cal-tooltip-"+t.placement),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("innerHtml",e,r["\u0275\u0275sanitizeHtml"])}}function _e(e,t){}const Je=function(e,t,n){return{contents:e,placement:t,event:n}},Ze=function(e){return{backgroundColor:e}};function Qe(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mwl-calendar-month-cell",7),r["\u0275\u0275listener"]("mwlClick",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).dayClicked.emit({day:i,sourceEvent:n})}))("mwlKeydownEnter",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).dayClicked.emit({day:i,sourceEvent:n})}))("highlightDay",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).toggleDayHighlight(t.event,!0)}))("unhighlightDay",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).toggleDayHighlight(t.event,!1)}))("drop",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).eventDropped(i,n.dropData.event,n.dropData.draggedFrom)}))("eventClicked",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).eventClicked.emit({event:t.event,sourceEvent:t.sourceEvent})})),r["\u0275\u0275pipe"](1,"calendarA11y"),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("ngClass",null==e?null:e.cssClass)("day",e)("openDay",n.openDay)("locale",n.locale)("tooltipPlacement",n.tooltipPlacement)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipTemplate",n.tooltipTemplate)("tooltipDelay",n.tooltipDelay)("customTemplate",n.cellTemplate)("ngStyle",r["\u0275\u0275pureFunction1"](15,Ze,e.backgroundColor))("clickListenerDisabled",0===n.dayClicked.observers.length),r["\u0275\u0275attribute"]("tabindex",r["\u0275\u0275pipeBind2"](1,12,r["\u0275\u0275pureFunction0"](17,Ne),"monthCellTabIndex"))}}function et(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275elementStart"](1,"div",4),r["\u0275\u0275template"](2,Qe,2,18,"mwl-calendar-month-cell",5),r["\u0275\u0275pipe"](3,"slice"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"mwl-calendar-open-day-events",6),r["\u0275\u0275listener"]("eventClicked",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().eventClicked.emit({event:t.event,sourceEvent:t.sourceEvent})}))("drop",(function(t){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275nextContext"]();return n.eventDropped(n.openDay,t.dropData.event,t.dropData.draggedFrom)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind3"](3,9,n.view.days,e,e+n.view.totalDaysVisibleInWeek))("ngForTrackBy",n.trackByDate),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("locale",n.locale)("isOpen",n.openRowIndex===e)("events",null==n.openDay?null:n.openDay.events)("date",null==n.openDay?null:n.openDay.date)("customTemplate",n.openDayEventsTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)}}function tt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",4),r["\u0275\u0275listener"]("click",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).columnHeaderClicked.emit({isoDayNumber:i.day,sourceEvent:n})})),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"calendarDate"),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]().locale;r["\u0275\u0275classProp"]("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),r["\u0275\u0275property"]("ngClass",e.cssClass),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind3"](2,10,e.date,"monthViewColumnHeader",n)," ")}}function nt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275template"](1,tt,3,14,"div",3),r["\u0275\u0275elementEnd"]()),2&e){const e=t.days,n=t.trackByWeekDayHeaderDate;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e)("ngForTrackBy",n)}}function it(e,t){}const rt=function(e,t,n){return{days:e,locale:t,trackByWeekDayHeaderDate:n}};function at(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span",7),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().day;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.badgeTotal)}}const ot=function(e,t){return{event:e,draggedFrom:t}},st=function(e,t){return{x:e,y:t}},lt=function(){return{delay:300,delta:30}};function ct(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",10),r["\u0275\u0275listener"]("mouseenter",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).highlightDay.emit({event:n})}))("mouseleave",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).unhighlightDay.emit({event:n})}))("mwlClick",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).eventClicked.emit({event:i,sourceEvent:n})})),r["\u0275\u0275pipe"](1,"calendarEventTitle"),r["\u0275\u0275pipe"](2,"calendarA11y"),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2),i=n.tooltipPlacement,a=n.tooltipTemplate,o=n.tooltipAppendToBody,s=n.tooltipDelay,l=n.day,c=n.validateDrag;r["\u0275\u0275classProp"]("cal-draggable",e.draggable),r["\u0275\u0275property"]("ngStyle",r["\u0275\u0275pureFunction1"](22,Ze,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",r["\u0275\u0275pipeBind3"](1,15,e.title,"monthTooltip",e))("tooltipPlacement",i)("tooltipEvent",e)("tooltipTemplate",a)("tooltipAppendToBody",o)("tooltipDelay",s)("dropData",r["\u0275\u0275pureFunction2"](24,ot,e,l))("dragAxis",r["\u0275\u0275pureFunction2"](27,st,e.draggable,e.draggable))("validateDrag",c)("touchStartLongPress",r["\u0275\u0275pureFunction0"](30,lt)),r["\u0275\u0275attribute"]("aria-hidden",r["\u0275\u0275pipeBind2"](2,19,r["\u0275\u0275pureFunction0"](31,Ne),"hideMonthCellEvents"))}}function dt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",8),r["\u0275\u0275template"](1,ct,3,32,"div",9),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](),t=e.day,n=e.trackByEventId;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.events)("ngForTrackBy",n)}}const ut=function(e,t){return{day:e,locale:t}};function pt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275pipe"](1,"calendarA11y"),r["\u0275\u0275elementStart"](2,"span",3),r["\u0275\u0275template"](3,at,2,1,"span",4),r["\u0275\u0275elementStart"](4,"span",5),r["\u0275\u0275text"](5),r["\u0275\u0275pipe"](6,"calendarDate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](7,dt,2,2,"div",6)),2&e){const e=t.day,n=t.locale;r["\u0275\u0275attribute"]("aria-label",r["\u0275\u0275pipeBind2"](1,4,r["\u0275\u0275pureFunction2"](11,ut,e,n),"monthCell")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",e.badgeTotal>0),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind3"](6,7,e.date,"monthViewDayNumber",n)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.events.length>0)}}function mt(e,t){}const ht=function(e,t,n,i,r,a,o,s,l,c,d,u){return{day:e,openDay:t,locale:n,tooltipPlacement:i,highlightDay:r,unhighlightDay:a,eventClicked:o,tooltipTemplate:s,tooltipAppendToBody:l,tooltipDelay:c,trackByEventId:d,validateDrag:u}},gt=function(e){return{event:e}},vt=function(e,t){return{event:e,locale:t}};function ft(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",7),r["\u0275\u0275element"](1,"span",8),r["\u0275\u0275text"](2," "),r["\u0275\u0275elementStart"](3,"mwl-calendar-event-title",9),r["\u0275\u0275listener"]("mwlClick",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).eventClicked.emit({event:i,sourceEvent:n})}))("mwlKeydownEnter",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).eventClicked.emit({event:i,sourceEvent:n})})),r["\u0275\u0275pipe"](4,"calendarA11y"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5," "),r["\u0275\u0275element"](6,"mwl-calendar-event-actions",10),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2).validateDrag,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275classProp"]("cal-draggable",e.draggable),r["\u0275\u0275property"]("ngClass",null==e?null:e.cssClass)("dropData",r["\u0275\u0275pureFunction1"](16,gt,e))("dragAxis",r["\u0275\u0275pureFunction2"](18,st,e.draggable,e.draggable))("validateDrag",n)("touchStartLongPress",r["\u0275\u0275pureFunction0"](21,lt)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngStyle",r["\u0275\u0275pureFunction1"](22,Ze,null==e.color?null:e.color.primary)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("event",e)("customTemplate",i.eventTitleTemplate),r["\u0275\u0275attribute"]("aria-label",r["\u0275\u0275pipeBind2"](4,13,r["\u0275\u0275pureFunction2"](24,vt,e,i.locale),"eventDescription")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("event",e)("customTemplate",i.eventActionsTemplate)}}const yt=function(e,t){return{date:e,locale:t}};function wt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",3),r["\u0275\u0275element"](1,"span",4),r["\u0275\u0275pipe"](2,"calendarA11y"),r["\u0275\u0275element"](3,"span",5),r["\u0275\u0275pipe"](4,"calendarA11y"),r["\u0275\u0275template"](5,ft,7,27,"div",6),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](),t=e.events,n=e.trackByEventId,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("@collapse",void 0),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("aria-label",r["\u0275\u0275pipeBind2"](2,5,r["\u0275\u0275pureFunction2"](11,yt,i.date,i.locale),"openDayEventsAlert")),r["\u0275\u0275advance"](2),r["\u0275\u0275attribute"]("aria-label",r["\u0275\u0275pipeBind2"](4,8,r["\u0275\u0275pureFunction2"](14,yt,i.date,i.locale),"openDayEventsLandmark")),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t)("ngForTrackBy",n)}}function bt(e,t){1&e&&r["\u0275\u0275template"](0,wt,6,17,"div",2),2&e&&r["\u0275\u0275property"]("ngIf",t.isOpen)}function Et(e,t){}const Dt=function(e,t,n,i,r){return{events:e,eventClicked:t,isOpen:n,trackByEventId:i,validateDrag:r}};function St(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",13),r["\u0275\u0275listener"]("drop",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).eventDropped(n,i.date,!0)}))("dragEnter",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).dateDragEnter(n.date)})),r["\u0275\u0275elementEnd"]()}}const Ct=function(){return{left:!0}};function Ot(e,t){1&e&&r["\u0275\u0275element"](0,"div",22),2&e&&r["\u0275\u0275property"]("resizeEdges",r["\u0275\u0275pureFunction0"](1,Ct))}const Tt=function(){return{right:!0}};function kt(e,t){1&e&&r["\u0275\u0275element"](0,"div",23),2&e&&r["\u0275\u0275property"]("resizeEdges",r["\u0275\u0275pureFunction0"](1,Tt))}const xt=function(e,t){return{left:e,right:t}},jt=function(e,t){return{event:e,calendarId:t}},At=function(e){return{x:e}};function Mt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",17,18),r["\u0275\u0275listener"]("resizeStart",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;r["\u0275\u0275nextContext"]();const a=r["\u0275\u0275reference"](1);return r["\u0275\u0275nextContext"](2).allDayEventResizeStarted(a,i,n)}))("resizing",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit,a=r["\u0275\u0275nextContext"](3);return a.allDayEventResizing(i,n,a.dayColumnWidth)}))("resizeEnd",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](3).allDayEventResizeEnded(n)}))("dragStart",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275reference"](1);r["\u0275\u0275nextContext"]();const n=r["\u0275\u0275reference"](1);return r["\u0275\u0275nextContext"](2).dragStarted(n,t)}))("dragging",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).allDayEventDragMove()}))("dragEnd",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit,a=r["\u0275\u0275nextContext"](3);return a.dragEnded(i,n,a.dayColumnWidth)})),r["\u0275\u0275template"](2,Ot,1,2,"div",19),r["\u0275\u0275elementStart"](3,"mwl-calendar-week-view-event",20),r["\u0275\u0275listener"]("eventClicked",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](3).eventClicked.emit({event:i.event,sourceEvent:n.sourceEvent})})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](4,kt,1,2,"div",21),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275styleProp"]("width",100/n.days.length*e.span,"%")("margin-left",100/n.days.length*e.offset,"%"),r["\u0275\u0275classProp"]("cal-draggable",e.event.draggable&&0===n.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),r["\u0275\u0275property"]("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",r["\u0275\u0275pureFunction2"](30,xt,n.dayColumnWidth,n.dayColumnWidth))("validateResize",n.validateResize)("dropData",r["\u0275\u0275pureFunction2"](33,jt,e.event,n.calendarId))("dragAxis",r["\u0275\u0275pureFunction2"](36,st,e.event.draggable&&0===n.allDayEventResizes.size,!n.snapDraggedEvents&&e.event.draggable&&0===n.allDayEventResizes.size))("dragSnapGrid",n.snapDraggedEvents?r["\u0275\u0275pureFunction1"](39,At,n.dayColumnWidth):r["\u0275\u0275pureFunction0"](41,Ne))("validateDrag",n.validateDrag)("touchStartLongPress",r["\u0275\u0275pureFunction0"](42,lt)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("locale",n.locale)("weekEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("daysInWeek",n.daysInWeek),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function It(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",14,15),r["\u0275\u0275template"](2,Mt,5,43,"div",16),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.row)("ngForTrackBy",n.trackByWeekAllDayEvent)}}function Rt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",8,9),r["\u0275\u0275listener"]("dragEnter",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().dragEnter("allDay")}))("dragLeave",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().dragLeave("allDay")})),r["\u0275\u0275elementStart"](2,"div",5),r["\u0275\u0275element"](3,"div",10),r["\u0275\u0275template"](4,St,1,0,"div",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,It,3,2,"div",12),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngTemplateOutlet",e.allDayEventsLabelTemplate),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function zt(e,t){if(1&e&&r["\u0275\u0275element"](0,"mwl-calendar-week-view-hour-segment",28),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275styleProp"]("height",n.hourSegmentHeight,"px"),r["\u0275\u0275property"]("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",n.daysInWeek)}}function Lt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",26),r["\u0275\u0275template"](1,zt,1,8,"mwl-calendar-week-view-hour-segment",27),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.odd,i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275classProp"]("cal-hour-odd",n),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.segments)("ngForTrackBy",i.trackByHourSegment)}}function Pt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",24),r["\u0275\u0275template"](1,Lt,2,4,"div",25),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const Ht=function(){return{left:!0,top:!0}};function Ft(e,t){1&e&&r["\u0275\u0275element"](0,"div",22),2&e&&r["\u0275\u0275property"]("resizeEdges",r["\u0275\u0275pureFunction0"](1,Ht))}function Bt(e,t){}function Wt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mwl-calendar-week-view-event",36),r["\u0275\u0275listener"]("eventClicked",(function(t){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"](2).eventClicked.emit({event:n.event,sourceEvent:t.sourceEvent})})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"]().$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("locale",n.locale)("weekEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDisabled",n.dragActive||n.timeEventResizes.size>0)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("column",t)("daysInWeek",n.daysInWeek)}}const Vt=function(){return{right:!0,bottom:!0}};function Yt(e,t){1&e&&r["\u0275\u0275element"](0,"div",23),2&e&&r["\u0275\u0275property"]("resizeEdges",r["\u0275\u0275pureFunction0"](1,Vt))}const Xt=function(e,t,n,i){return{left:e,right:t,top:n,bottom:i}};function $t(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",33,18),r["\u0275\u0275listener"]("resizeStart",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit,a=r["\u0275\u0275nextContext"](2),o=r["\u0275\u0275reference"](6);return a.timeEventResizeStarted(o,i,n)}))("resizing",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).timeEventResizing(i,n)}))("resizeEnd",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).timeEventResizeEnded(n)}))("dragStart",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit,i=r["\u0275\u0275reference"](1),a=r["\u0275\u0275nextContext"](2),o=r["\u0275\u0275reference"](6);return a.dragStarted(o,i,n)}))("dragging",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).dragMove(i,n)}))("dragEnd",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit,a=r["\u0275\u0275nextContext"](2);return a.dragEnded(i,n,a.dayColumnWidth,!0)})),r["\u0275\u0275template"](2,Ft,1,2,"div",19),r["\u0275\u0275template"](3,Bt,0,0,"ng-template",34),r["\u0275\u0275template"](4,Wt,1,12,"ng-template",null,35,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](6,Yt,1,2,"div",21),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275reference"](5),i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275styleProp"]("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),r["\u0275\u0275classProp"]("cal-draggable",e.event.draggable&&0===i.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),r["\u0275\u0275property"]("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",r["\u0275\u0275pureFunction4"](29,Xt,i.dayColumnWidth,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight,i.eventSnapSize||i.hourSegmentHeight))("validateResize",i.validateResize)("allowNegativeResizes",!0)("dropData",r["\u0275\u0275pureFunction2"](34,jt,e.event,i.calendarId))("dragAxis",r["\u0275\u0275pureFunction2"](37,st,e.event.draggable&&0===i.timeEventResizes.size,e.event.draggable&&0===i.timeEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?r["\u0275\u0275pureFunction2"](40,st,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight):r["\u0275\u0275pureFunction0"](43,Ne))("touchStartLongPress",r["\u0275\u0275pureFunction0"](44,lt))("ghostDragEnabled",!i.snapDraggedEvents)("ghostElementTemplate",n)("validateDrag",i.validateDrag),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",n),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function Nt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mwl-calendar-week-view-hour-segment",38),r["\u0275\u0275listener"]("mwlClick",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](3).hourSegmentClicked.emit({date:i.date,sourceEvent:n})}))("drop",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](3).eventDropped(n,i.date,!1)}))("dragEnter",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](3).dateDragEnter(n.date)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275styleProp"]("height",n.hourSegmentHeight,"px"),r["\u0275\u0275property"]("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("daysInWeek",n.daysInWeek)("clickListenerDisabled",0===n.hourSegmentClicked.observers.length)("dragOverClass",n.dragActive&&n.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===n.daysInWeek)}}function Ut(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",26),r["\u0275\u0275template"](1,Nt,1,10,"mwl-calendar-week-view-hour-segment",37),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.odd,i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275classProp"]("cal-hour-odd",n),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.segments)("ngForTrackBy",i.trackByHourSegment)}}function Gt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",29),r["\u0275\u0275element"](1,"mwl-calendar-week-view-current-time-marker",30),r["\u0275\u0275elementStart"](2,"div",31),r["\u0275\u0275template"](3,$t,7,45,"div",32),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](4,Ut,2,4,"div",25),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("columnDate",e.date)("dayStartHour",n.dayStartHour)("dayStartMinute",n.dayStartMinute)("dayEndHour",n.dayEndHour)("dayEndMinute",n.dayEndMinute)("hourSegments",n.hourSegments)("hourSegmentHeight",n.hourSegmentHeight)("customTemplate",n.currentTimeMarkerTemplate),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.events)("ngForTrackBy",n.trackByWeekTimeEvent),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.hours)("ngForTrackBy",n.trackByHour)}}function Kt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",4),r["\u0275\u0275listener"]("mwlClick",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"]().dayHeaderClicked.emit({day:i,sourceEvent:n})}))("drop",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"]().eventDropped.emit({event:n.dropData.event,newStart:i.date})}))("dragEnter",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"]().dragEnter.emit({date:n.date})})),r["\u0275\u0275elementStart"](1,"b"),r["\u0275\u0275text"](2),r["\u0275\u0275pipe"](3,"calendarDate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](4,"br"),r["\u0275\u0275elementStart"](5,"span"),r["\u0275\u0275text"](6),r["\u0275\u0275pipe"](7,"calendarDate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]().locale;r["\u0275\u0275classProp"]("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),r["\u0275\u0275property"]("ngClass",e.cssClass),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind3"](3,11,e.date,"weekViewColumnHeader",n)),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind3"](7,15,e.date,"weekViewColumnSubHeader",n))}}function qt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275template"](1,Kt,8,19,"div",3),r["\u0275\u0275elementEnd"]()),2&e){const e=t.days,n=t.trackByWeekDayHeaderDate;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e)("ngForTrackBy",n)}}function _t(e,t){}const Jt=function(e,t,n,i,r,a){return{days:e,locale:t,dayHeaderClicked:n,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:a}},Zt=function(e,t){return{backgroundColor:e,borderColor:t}};function Qt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275listener"]("mwlClick",(function(n){return r["\u0275\u0275restoreView"](e),t.eventClicked.emit({sourceEvent:n})}))("mwlKeydownEnter",(function(n){return r["\u0275\u0275restoreView"](e),t.eventClicked.emit({sourceEvent:n})})),r["\u0275\u0275pipe"](1,"calendarEventTitle"),r["\u0275\u0275pipe"](2,"calendarA11y"),r["\u0275\u0275element"](3,"mwl-calendar-event-actions",3),r["\u0275\u0275text"](4," "),r["\u0275\u0275element"](5,"mwl-calendar-event-title",4),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.weekEvent,n=t.tooltipPlacement,i=t.tooltipTemplate,a=t.tooltipAppendToBody,o=t.tooltipDisabled,s=t.tooltipDelay,l=t.daysInWeek,c=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngStyle",r["\u0275\u0275pureFunction2"](20,Zt,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",o?"":r["\u0275\u0275pipeBind3"](1,13,e.event.title,1===l?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",n)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",i)("tooltipAppendToBody",a)("tooltipDelay",s),r["\u0275\u0275attribute"]("aria-label",r["\u0275\u0275pipeBind2"](2,17,r["\u0275\u0275pureFunction2"](23,vt,e.tempEvent||e.event,c.locale),"eventDescription")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("event",e.tempEvent||e.event)("customTemplate",c.eventActionsTemplate),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("event",e.tempEvent||e.event)("customTemplate",c.eventTitleTemplate)("view",1===l?"day":"week")}}function en(e,t){}const tn=function(e,t,n,i,r,a,o,s,l){return{weekEvent:e,tooltipPlacement:t,eventClicked:n,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:a,tooltipDelay:o,column:s,daysInWeek:l}};function nn(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",4),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"calendarDate"),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](),t=e.segment,n=e.daysInWeek,i=e.locale;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind3"](2,1,t.displayDate,1===n?"dayViewHour":"weekViewHour",i)," ")}}function rn(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275pipe"](1,"calendarA11y"),r["\u0275\u0275template"](2,nn,3,5,"div",3),r["\u0275\u0275elementEnd"]()),2&e){const e=t.segment,n=t.isTimeLabel,i=t.daysInWeek;r["\u0275\u0275styleProp"]("height",t.segmentHeight,"px"),r["\u0275\u0275classProp"]("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),r["\u0275\u0275property"]("ngClass",e.cssClass),r["\u0275\u0275attribute"]("aria-hidden",r["\u0275\u0275pipeBind2"](1,9,r["\u0275\u0275pureFunction0"](12,Ne),1===i?"hideDayHourSegment":"hideWeekHourSegment")),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",n)}}function an(e,t){}const on=function(e,t,n,i,r){return{segment:e,locale:t,segmentHeight:n,isTimeLabel:i,daysInWeek:r}};function sn(e,t){if(1&e&&r["\u0275\u0275element"](0,"div",3),2&e){const e=r["\u0275\u0275nextContext"]().topPx;r["\u0275\u0275styleProp"]("top",e,"px")}}function ln(e,t){1&e&&r["\u0275\u0275template"](0,sn,1,2,"div",2),2&e&&r["\u0275\u0275property"]("ngIf",t.isVisible)}function cn(e,t){}const dn=function(e,t,n,i,r,a,o){return{columnDate:e,dayStartHour:t,dayStartMinute:n,dayEndHour:i,dayEndMinute:r,isVisible:a,topPx:o}};let un=(()=>{let e=class{constructor(){this.trackByActionId=(e,t)=>t.id?t.id:t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,Ye,1,1,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,Xe,0,0,"ng-template",1)),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",r["\u0275\u0275pureFunction2"](2,$e,t.event,t.trackByActionId))}},directives:function(){return[a.r,a.m,a.l,a.k,Bn,Wn]},pipes:function(){return[Xn]},encapsulation:2}),e})(),pn=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,Ue,3,10,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,Ge,0,0,"ng-template",1)),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",r["\u0275\u0275pureFunction2"](2,Ke,t.event,t.view))}},directives:function(){return[a.r]},pipes:function(){return[Fn,Xn]},encapsulation:2}),e})(),mn=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,qe,3,2,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,_e,0,0,"ng-template",1)),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",r["\u0275\u0275pureFunction3"](2,Je,t.contents,t.placement,t.event))}},directives:[a.r,a.k],encapsulation:2}),e})(),hn=(()=>{let e=class{constructor(e,t,n,i,r,a){this.elementRef=e,this.injector=t,this.renderer=n,this.viewContainerRef=r,this.document=a,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new l.a,this.tooltipFactory=i.resolveComponentFactory(mn)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?Object(c.a)("now"):Object(d.a)(this.delay)).pipe(Object(v.a)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function(e,t,n,i,r){var a=Array.isArray(n)?n:n.split(o),l=function(e){e.split("-");return[]},c=a.findIndex((function(e){return"auto"===e}));c>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach((function(e){null==a.find((function(t){return-1!==t.search("^"+e)}))&&a.splice(c++,1,e)}));var d,u=t.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";for(var p=!1,m=0,h=a;m<h.length;m++)if(l(d=h[m]),s.positionElements(e,t,d,i)){p=!0;break}return p||(l(d=a[0]),s.positionElements(e,t,d,i)),d}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Injector),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ComponentFactoryResolver),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](a.d))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("mouseenter",(function(){return t.onMouseOver()}))("mouseleave",(function(){return t.onMouseOut()}))},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e})();class gn{}var vn=function(e){return e.Month="month",e.Week="week",e.Day="day",e}({});const fn=e=>function(e,t){var n=!0;function i(e,i){t(e,i),n=!1}return Array.isArray(e)?(e.forEach((function(e){e.start?e.start instanceof Date||i(R.StartPropertyNotDate,e):i(R.StartPropertyMissing,e),e.end&&(e.end instanceof Date||i(R.EndPropertyNotDate,e),e.start>e.end&&i(R.EndsBeforeStart,e))})),n):(t(R.NotArray,e),!1)}(e,(...e)=>console.warn("angular-calendar",...e));function yn(e,t){return Math.floor(e.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(e.right)&&Math.floor(e.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(e.right)&&Math.floor(e.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(e.bottom)&&Math.floor(e.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(e.bottom)}function wn(e,t){return Math.round(e/t)*t}const bn=(e,t)=>t.id?t.id:t,En=(e,t)=>t.date.toISOString(),Dn=(e,t)=>t.date.toISOString(),Sn=(e,t)=>t.segments[0].date.toISOString(),Cn=(e,t)=>t.event.id?t.event.id:t.event,On=(e,t)=>t.event.id?t.event.id:t.event;function Tn(e,t){return 60/(e*t)}function kn(e,t,n,i){return wn(e,i||n)*Tn(t,n)}function xn(e,t,n){return t.end?t.end:e.addMinutes(t.start,n)}function jn(e,t,n,i){let r=0,a=0;const o=n<0?e.subDays:e.addDays;let s=t;for(;a<=Math.abs(n);){s=o(t,r);const n=e.getDay(s);-1===i.indexOf(n)&&a++,r++}return s}function An(e,t,n,i=[],r){let a=r?e.startOfDay(t):e.startOfWeek(t,{weekStartsOn:n});const o=e.endOfWeek(t,{weekStartsOn:n});for(;i.indexOf(e.getDay(a))>-1&&a<o;)a=e.addDays(a,1);if(r)return{viewStart:a,viewEnd:e.endOfDay(jn(e,a,r-1,i))};{let t=o;for(;i.indexOf(e.getDay(t))>-1&&t>a;)t=e.subDays(t,1);return{viewStart:a,viewEnd:t}}}function Mn({x:e,y:t}){return Math.abs(e)>1||Math.abs(t)>1}let In=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new r.EventEmitter}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===vn.Day?jn(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===vn.Week&&this.daysInWeek?jn(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](gn))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("click",(function(){return t.onClick()}))},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e})(),Rn=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new r.EventEmitter}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===vn.Day?jn(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===vn.Week&&this.daysInWeek?jn(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](gn))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("click",(function(){return t.onClick()}))},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e})(),zn=(()=>{let e=class{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:t}){return Object(a.w)(e,"EEEE",t)}monthViewDayNumber({date:e,locale:t}){return Object(a.w)(e,"d",t)}monthViewTitle({date:e,locale:t}){return Object(a.w)(e,"LLLL y",t)}weekViewColumnHeader({date:e,locale:t}){return Object(a.w)(e,"EEEE",t)}weekViewColumnSubHeader({date:e,locale:t}){return Object(a.w)(e,"MMM d",t)}weekViewTitle({date:e,locale:t,weekStartsOn:n,excludeDays:i,daysInWeek:r}){const{viewStart:o,viewEnd:s}=An(this.dateAdapter,e,n,i,r),l=(e,n)=>Object(a.w)(e,"MMM d"+(n?", yyyy":""),t);return`${l(o,o.getUTCFullYear()!==s.getUTCFullYear())} - ${l(s,!0)}`}weekViewHour({date:e,locale:t}){return Object(a.w)(e,"h a",t)}dayViewHour({date:e,locale:t}){return Object(a.w)(e,"h a",t)}dayViewTitle({date:e,locale:t}){return Object(a.w)(e,"EEEE, MMMM d, y",t)}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](gn))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),Ln=(()=>{let e=class extends zn{};return e.\u0275fac=function(t){return ui(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),Pn=(()=>{let e=class{constructor(e,t){this.dateFormatter=e,this.locale=t}transform(e,t,n=this.locale,i=0,r=[],a){if(void 0===this.dateFormatter[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(Ln.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid date formatter. Can only be one of ${e.join(", ")}`)}return this.dateFormatter[t]({date:e,locale:n,weekStartsOn:i,excludeDays:r,daysInWeek:a})}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Ln),r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"calendarDate",type:e,pure:!0}),e})();class Hn{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}}let Fn=(()=>{let e=class{constructor(e){this.calendarEventTitle=e}transform(e,t,n){return this.calendarEventTitle[t](n,e)}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Hn))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"calendarEventTitle",type:e,pure:!0}),e})(),Bn=(()=>{let e=class{constructor(e,t,n){this.renderer=e,this.elm=t,this.document=n,this.clickListenerDisabled=!1,this.click=new r.EventEmitter,this.destroy$=new l.a}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Object(v.a)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new u.a(e=>this.renderer.listen(this.elm.nativeElement,"click",t=>{e.next(t)}))}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](a.d))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),e})(),Wn=(()=>{let e=class{constructor(){this.keydown=new r.EventEmitter}onKeyPress(e){13!==e.keyCode&&13!==e.which&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.keydown.emit(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mwlKeydownEnter",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("keydown",(function(e){return t.onKeyPress(e)}))},outputs:{keydown:"mwlKeydownEnter"}}),e})(),Vn=(()=>{let e=class{constructor(e){this.dateAdapter=e}getMonthView(e){return function(e,t){var n=t.events,i=void 0===n?[]:n,r=t.viewDate,a=t.weekStartsOn,o=t.excluded,s=void 0===o?[]:o,l=t.viewStart,c=void 0===l?e.startOfMonth(r):l,d=t.viewEnd,u=void 0===d?e.endOfMonth(r):d,p=t.weekendDays;i||(i=[]);for(var m,h=e.endOfWeek,g=e.differenceInDays,v=e.startOfDay,f=e.addHours,y=e.endOfDay,w=e.isSameMonth,b=e.getDay,D=(0,e.startOfWeek)(c,{weekStartsOn:a}),S=h(u,{weekStartsOn:a}),C=O(e,{events:i,periodStart:D,periodEnd:S}),k=[],x=function(t){var n;if(m?(n=v(f(m,24)),m.getTime()===n.getTime()&&(n=v(f(m,25))),m=n):n=m=D,!s.some((function(e){return b(n)===e}))){var i=T(e,{date:n,weekendDays:p}),a=O(e,{events:C,periodStart:v(n),periodEnd:y(n)});i.inMonth=w(n,r),i.events=a,i.badgeTotal=a.length,k.push(i)}},j=0;j<g(S,D)+1;j++)x();var A=[],M=7-s.length;if(M<7)for(j=0;j<k.length;j+=M){var I=k.slice(j,j+M);I.some((function(e){return c<=e.date&&e.date<u}))&&(A=E(A,I))}else A=k;var R=Math.floor(A.length/M),z=[];for(j=0;j<R;j++)z.push(j*M);return{rowOffsets:z,totalDaysVisibleInWeek:M,days:A,period:{start:A[0].date,end:y(A[A.length-1].date),events:C}}}(this.dateAdapter,e)}getWeekViewHeader(e){return k(this.dateAdapter,e)}getWeekView(e){return function(e,t){var n=t.events,i=void 0===n?[]:n,r=t.viewDate,a=t.weekStartsOn,o=t.excluded,s=void 0===o?[]:o,l=t.precision,c=void 0===l?"days":l,d=t.absolutePositionedEvents,u=void 0!==d&&d,p=t.hourSegments,m=t.hourDuration,h=t.dayStart,g=t.dayEnd,v=t.weekendDays,f=t.segmentHeight,y=t.minimumEventHeight,w=t.viewStart,b=void 0===w?e.startOfWeek(r,{weekStartsOn:a}):w,E=t.viewEnd,D=void 0===E?e.endOfWeek(r,{weekStartsOn:a}):E;i||(i=[]);var S=e.endOfDay,C=O(e,{events:i,periodStart:b=(0,e.startOfDay)(b),periodEnd:D=S(D)}),T=k(e,{viewDate:r,weekStartsOn:a,excluded:s,weekendDays:v,viewStart:b,viewEnd:D});return{allDayEventRows:x(e,{events:C,excluded:s,precision:c,absolutePositionedEvents:u,viewStart:b,viewEnd:D}),period:{events:C,start:T[0].date,end:S(T[T.length-1].date)},hourColumns:j(e,{events:i,viewDate:r,hourSegments:p,hourDuration:m,dayStart:h,dayEnd:g,weekStartsOn:a,excluded:s,weekendDays:v,segmentHeight:f,viewStart:b,viewEnd:D,minimumEventHeight:y})}}(this.dateAdapter,e)}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](gn))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),Yn=(()=>{let e=class{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:t}){return e.badgeTotal>0?`\n        ${Object(a.w)(e.date,"EEEE MMMM d",t)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:""+Object(a.w)(e.date,"EEEE MMMM d",t)}openDayEventsLandmark({date:e,locale:t}){return`\n      Beginning of expanded view for ${Object(a.w)(e,"EEEE MMMM dd",t)}\n    `}openDayEventsAlert({date:e,locale:t}){return Object(a.w)(e,"EEEE MMMM dd",t)+" expanded"}eventDescription({event:e,locale:t}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:t});const n=`\n      ${Object(a.w)(e.start,"EEEE MMMM dd",t)},\n      ${e.title}, from ${Object(a.w)(e.start,"hh:mm a",t)}\n    `;return e.end?n+" to "+Object(a.w)(e.end,"hh:mm a",t):n}allDayEventDescription({event:e,locale:t}){const n=`\n      ${e.title}, event spans multiple days:\n      start time ${Object(a.w)(e.start,"MMMM dd hh:mm a",t)}\n    `;return e.end?n+", stop time "+Object(a.w)(e.end,"MMMM d hh:mm a",t):n+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](a.g))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),Xn=(()=>{let e=class{constructor(e,t){this.calendarA11y=e,this.locale=t}transform(e,t){if(e.locale=e.locale||this.locale,void 0===this.calendarA11y[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(Yn.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid a11y method. Can only be one of ${e.join(", ")}`)}return this.calendarA11y[t](e)}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Yn),r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"calendarA11y",type:e,pure:!0}),e})();var $n,Nn=function(e){return e.Drag="drag",e.Drop="drop",e.Resize="resize",e}({});let Un=(()=>{let e=$n=class{static forRoot(e,t={}){return{ngModule:$n,providers:[e,t.eventTitleFormatter||Hn,t.dateFormatter||Ln,t.utils||Vn,t.a11y||Yn]}}};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[a.g],imports:[[a.c]]}),e})(),Gn=(()=>{let e=class{constructor(e,t,n,i){this.cdr=e,this.utils=t,this.dateAdapter=i,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new r.EventEmitter,this.dayClicked=new r.EventEmitter,this.eventClicked=new r.EventEmitter,this.columnHeaderClicked=new r.EventEmitter,this.eventTimesChanged=new r.EventEmitter,this.trackByRowOffset=(e,t)=>this.view.days.slice(t,this.view.totalDaysVisibleInWeek).map(e=>e.date.toISOString()).join("-"),this.trackByDate=(e,t)=>t.date.toISOString(),this.locale=n}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays,n=e.viewDate||e.events||e.excludeDays||e.weekendDays;t&&this.refreshHeader(),e.events&&fn(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,t){this.view.days.forEach(n=>{t&&n.events.indexOf(e)>-1?n.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete n.backgroundColor})}eventDropped(e,t,n){if(e!==n){const n=this.dateAdapter.getYear(e.date),i=this.dateAdapter.getMonth(e.date),r=this.dateAdapter.getDate(e.date),a=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(t.start,n),i),r);let o;if(t.end){const e=this.dateAdapter.differenceInSeconds(a,t.start);o=this.dateAdapter.addSeconds(t.end,e)}this.eventTimesChanged.emit({event:t,newStart:a,newEnd:o,day:e,type:Nn.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(t=>this.dateAdapter.isSameDay(t.date,e));const t=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(t/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](Vn),r["\u0275\u0275directiveInject"](r.LOCALE_ID),r["\u0275\u0275directiveInject"](gn))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-month-view"]],inputs:{events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",locale:"locale",viewDate:"viewDate",activeDay:"activeDay",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-cell-row"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"mwl-calendar-month-view-header",1),r["\u0275\u0275listener"]("columnHeaderClicked",(function(e){return t.columnHeaderClicked.emit(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275template"](3,et,5,13,"div",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("days",t.columnHeaders)("locale",t.locale)("customTemplate",t.headerTemplate),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.view.rowOffsets)("ngForTrackBy",t.trackByRowOffset))},directives:function(){return[Kn,a.l,Jn,Ee,qn,a.k,a.n,Bn,Wn]},pipes:function(){return[a.u,Xn]},encapsulation:2}),e})(),Kn=(()=>{let e=class{constructor(){this.columnHeaderClicked=new r.EventEmitter,this.trackByWeekDayHeaderDate=En}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,nt,2,2,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,it,0,0,"ng-template",1)),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",r["\u0275\u0275pureFunction3"](2,rt,t.days,t.locale,t.trackByWeekDayHeaderDate))}},directives:[a.r,a.l,a.k],pipes:[Pn],encapsulation:2}),e})(),qn=(()=>{let e=class{constructor(){this.highlightDay=new r.EventEmitter,this.unhighlightDay=new r.EventEmitter,this.eventClicked=new r.EventEmitter,this.trackByEventId=bn,this.validateDrag=Mn}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,t){2&e&&r["\u0275\u0275classProp"]("cal-past",t.day.isPast)("cal-today",t.day.isToday)("cal-future",t.day.isFuture)("cal-weekend",t.day.isWeekend)("cal-in-month",t.day.inMonth)("cal-out-month",!t.day.inMonth)("cal-has-events",t.day.events.length>0)("cal-open",t.day===t.openDay)("cal-event-highlight",!!t.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,pt,8,14,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,mt,0,0,"ng-template",1)),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",r["\u0275\u0275pureFunctionV"](2,ht,[t.day,t.openDay,t.locale,t.tooltipPlacement,t.highlightDay,t.unhighlightDay,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDelay,t.trackByEventId,t.validateDrag]))}},directives:[a.r,a.m,a.l,we,a.n,a.k,hn,Bn],pipes:[Xn,Pn,Fn],encapsulation:2}),e})();const _n=Object(Fe.n)("collapse",[Object(Fe.k)("void",Object(Fe.l)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Object(Fe.k)("*",Object(Fe.l)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),Object(Fe.m)("* => void",Object(Fe.e)("150ms ease-out")),Object(Fe.m)("void => *",Object(Fe.e)("150ms ease-in"))]);let Jn=(()=>{let e=class{constructor(){this.isOpen=!1,this.eventClicked=new r.EventEmitter,this.trackByEventId=bn,this.validateDrag=Mn}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-open-day-events"]],inputs:{isOpen:"isOpen",locale:"locale",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,bt,1,1,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,Et,0,0,"ng-template",1)),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",r["\u0275\u0275pureFunction5"](2,Dt,t.events,t.eventClicked,t.isOpen,t.trackByEventId,t.validateDrag))}},directives:[a.r,a.m,a.l,we,a.k,a.n,pn,Bn,Wn,un],pipes:[Xn],encapsulation:2,data:{animation:[_n]}}),e})(),Zn=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,De,Un],De]}),e})();class Qn{constructor(e,t){this.dragContainerElement=e,this.startPosition=t.getBoundingClientRect()}validateDrag({x:e,y:t,snapDraggedEvents:n,dragAlreadyMoved:i,transform:r}){if(n){const n=Object.assign({},this.startPosition,{left:this.startPosition.left+r.x,right:this.startPosition.right+r.x,top:this.startPosition.top+r.y,bottom:this.startPosition.bottom+r.y});return(Mn({x:e,y:t})||i)&&yn(this.dragContainerElement.getBoundingClientRect(),n)}return Mn({x:e,y:t})||i}}class ei{constructor(e,t){this.resizeContainerElement=e,this.minWidth=t}validateResize({rectangle:e}){return!(this.minWidth&&Math.ceil(e.width)<Math.ceil(this.minWidth))&&yn(this.resizeContainerElement.getBoundingClientRect(),e)}}let ti=(()=>{let e=class{constructor(e,t,n,i){this.cdr=e,this.utils=t,this.dateAdapter=i,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new r.EventEmitter,this.eventClicked=new r.EventEmitter,this.eventTimesChanged=new r.EventEmitter,this.beforeViewRender=new r.EventEmitter,this.hourSegmentClicked=new r.EventEmitter,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.trackByWeekDayHeaderDate=En,this.trackByHourSegment=Dn,this.trackByHour=Sn,this.trackByWeekAllDayEvent=Cn,this.trackByWeekTimeEvent=On,this.trackByHourColumn=(e,t)=>t.hours[0]?t.hours[0].segments[0].date.toISOString():t,this.trackById=(e,t)=>t.id,this.locale=n}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,n=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek;t&&this.refreshHeader(),e.events&&fn(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}timeEventResizeStarted(e,t,n){this.timeEventResizes.set(t.event,n),this.resizeStarted(e)}timeEventResizing(e,t){this.timeEventResizes.set(e.event,t);const n=new Map,i=[...this.events];this.timeEventResizes.forEach((e,t)=>{const r=this.getTimeEventResizedDates(t,e),a=Object.assign(Object.assign({},t),r);n.set(a,t);const o=i.indexOf(t);i[o]=a}),this.restoreOriginalEvents(i,n,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const t=this.timeEventResizes.get(e.event);if(t){this.timeEventResizes.delete(e.event);const n=this.getTimeEventResizedDates(e.event,t);this.eventTimesChanged.emit({newStart:n.start,newEnd:n.end,event:e.event,type:Nn.Resize})}}allDayEventResizeStarted(e,t,n){this.allDayEventResizes.set(t,{originalOffset:t.offset,originalSpan:t.span,edge:void 0!==n.edges.left?"left":"right"}),this.resizeStarted(e,this.getDayColumnWidth(e))}allDayEventResizing(e,t,n){const i=this.allDayEventResizes.get(e);if(void 0!==t.edges.left){const r=Math.round(+t.edges.left/n);e.offset=i.originalOffset+r,e.span=i.originalSpan-r}else if(void 0!==t.edges.right){const r=Math.round(+t.edges.right/n);e.span=i.originalSpan+r}}allDayEventResizeEnded(e){const t=this.allDayEventResizes.get(e);if(t){const n="left"===t.edge;let i;i=n?e.offset-t.originalOffset:e.span-t.originalSpan,e.offset=t.originalOffset,e.span=t.originalSpan;let r=e.event.start,a=e.event.end||e.event.start;n?r=jn(this.dateAdapter,r,i,this.excludeDays):a=jn(this.dateAdapter,a,i,this.excludeDays),this.eventTimesChanged.emit({newStart:r,newEnd:a,event:e.event,type:Nn.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,t,n){!function(e,t,n,i){return e.dropData&&e.dropData.event&&(e.dropData.calendarId!==i||e.dropData.event.allDay&&!n||!e.dropData.event.allDay&&n)}(e,0,n,this.calendarId)||this.lastDragEnterDate.getTime()!==t.getTime()||this.snapDraggedEvents&&e.dropData.event===this.lastDraggedEvent||this.eventTimesChanged.emit({type:Nn.Drop,event:e.dropData.event,newStart:t,allDay:n}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,t,n){this.dayColumnWidth=this.getDayColumnWidth(e);const i=new Qn(e,t);this.validateDrag=({x:e,y:t,transform:n})=>0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&i.validateDrag({x:e,y:t,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:n}),this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&n&&this.view.hourColumns.forEach(e=>{const t=e.events.find(e=>e.event===n.event&&e!==n);t&&(t.width=0,t.height=0)}),this.cdr.markForCheck()}dragMove(e,t){const n=this.getDragMovedEventTimes(e,t,this.dayColumnWidth,!0),i=e.event,r=Object.assign(Object.assign({},i),n),a=this.events.map(e=>e===i?r:e);this.restoreOriginalEvents(a,new Map([[r,i]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,t,n,i=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:r,end:a}=this.getDragMovedEventTimes(e,t,n,i);(this.snapDraggedEvents||this.eventDragEnterByType[i?"time":"allDay"]>0)&&function(e,t,n){const i=t||e;return n.start<=e&&e<=n.end||n.start<=i&&i<=n.end}(r,a,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:r,newEnd:a,event:e.event,type:Nn.Drag,allDay:!i}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},An(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},An(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,t,n,i){const r=wn(t.x,n)/n,a=i?kn(t.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize):0,o=this.dateAdapter.addMinutes(jn(this.dateAdapter,e.event.start,r,this.excludeDays),a);let s;return e.event.end&&(s=this.dateAdapter.addMinutes(jn(this.dateAdapter,e.event.end,r,this.excludeDays),a)),{start:o,end:s}}restoreOriginalEvents(e,t,n=!0){const i=this.view;n&&(this.view=this.getWeekView(e));const r=e.filter(e=>t.has(e));this.view.hourColumns.forEach((e,a)=>{i.hourColumns[a].hours.forEach((t,n)=>{t.segments.forEach((t,i)=>{e.hours[n].segments[i].cssClass=t.cssClass})}),r.forEach(i=>{const r=t.get(i),a=e.events.find(e=>e.event===(n?i:r));a?(a.event=r,a.tempEvent=i,n||(a.height=0,a.width=0)):e.events.push({event:r,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:i})})}),t.clear()}getTimeEventResizedDates(e,t){const n=Tn(this.hourSegments,r=this.hourSegmentHeight)*r;var r;const a={start:e.start,end:xn(this.dateAdapter,e,n)},o=Object(i.b)(e,["end"]),s={start:this.dateAdapter.addMinutes(a.end,-1*n),end:xn(this.dateAdapter,o,n)};if(void 0!==t.edges.left){const e=Math.round(+t.edges.left/this.dayColumnWidth),n=jn(this.dateAdapter,a.start,e,this.excludeDays);a.start=n<s.start?n:s.start}else if(void 0!==t.edges.right){const e=Math.round(+t.edges.right/this.dayColumnWidth),n=jn(this.dateAdapter,a.end,e,this.excludeDays);a.end=n>s.end?n:s.end}if(void 0!==t.edges.top){const e=kn(t.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),n=this.dateAdapter.addMinutes(a.start,e);a.start=n<s.start?n:s.start}else if(void 0!==t.edges.bottom){const e=kn(t.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),n=this.dateAdapter.addMinutes(a.end,e);a.end=n>s.end?n:s.end}return a}resizeStarted(e,t){this.dayColumnWidth=this.getDayColumnWidth(e);const n=new ei(e,t);this.validateResize=({rectangle:e})=>n.validateResize({rectangle:e}),this.cdr.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](Vn),r["\u0275\u0275directiveInject"](r.LOCALE_ID),r["\u0275\u0275directiveInject"](gn))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-week-view"]],inputs:{events:"events",excludeDays:"excludeDays",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",precision:"precision",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",locale:"locale",viewDate:"viewDate",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"mwl-calendar-week-view-header",1),r["\u0275\u0275listener"]("dayHeaderClicked",(function(e){return t.dayHeaderClicked.emit(e)}))("eventDropped",(function(e){return t.eventDropped({dropData:e},e.newStart,!0)}))("dragEnter",(function(e){return t.dateDragEnter(e.date)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](2,Rt,6,5,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275listener"]("dragEnter",(function(){return t.dragEnter("time")}))("dragLeave",(function(){return t.dragLeave("time")})),r["\u0275\u0275template"](4,Pt,2,2,"div",4),r["\u0275\u0275elementStart"](5,"div",5,6),r["\u0275\u0275template"](7,Gt,5,12,"div",7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("days",t.days)("locale",t.locale)("customTemplate",t.headerTemplate),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.view.allDayEventRows.length>0),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.view.hourColumns.length>0&&1!==t.daysInWeek),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("cal-resize-active",t.timeEventResizes.size>0),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.view.hourColumns)("ngForTrackBy",t.trackByHourColumn))},directives:function(){return[ni,a.m,Ee,a.l,a.r,ze,we,a.k,ii,Pe,ri,ai,Bn]},encapsulation:2}),e})(),ni=(()=>{let e=class{constructor(){this.dayHeaderClicked=new r.EventEmitter,this.eventDropped=new r.EventEmitter,this.dragEnter=new r.EventEmitter,this.trackByWeekDayHeaderDate=En}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,qt,2,2,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,_t,0,0,"ng-template",1)),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",r["\u0275\u0275pureFunction6"](2,Jt,t.days,t.locale,t.dayHeaderClicked,t.eventDropped,t.dragEnter,t.trackByWeekDayHeaderDate))}},directives:[a.r,a.l,Ee,a.k,Bn],pipes:[Pn],encapsulation:2}),e})(),ii=(()=>{let e=class{constructor(){this.eventClicked=new r.EventEmitter}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,Qt,6,26,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,en,0,0,"ng-template",1)),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",r["\u0275\u0275pureFunctionV"](2,tn,[t.weekEvent,t.tooltipPlacement,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDisabled,t.tooltipDelay,t.column,t.daysInWeek]))}},directives:[a.r,a.n,hn,Bn,Wn,un,pn],pipes:[Fn,Xn],encapsulation:2}),e})(),ri=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,rn,3,13,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,an,0,0,"ng-template",1)),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",r["\u0275\u0275pureFunction5"](2,on,t.segment,t.locale,t.segmentHeight,t.isTimeLabel,t.daysInWeek))}},directives:[a.r,a.k,a.m],pipes:[Xn,Pn],encapsulation:2}),e})(),ai=(()=>{let e=class{constructor(e,t){var n;this.dateAdapter=e,this.zone=t,this.columnDate$=new p.a(this.columnDate),this.marker$=this.zone.onStable.pipe(Object(f.a)(()=>function(e=0,t=m.a){return(!Object(h.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=m.a),new u.a(n=>(n.add(t.schedule(g,e,{subscriber:n,counter:0,period:e})),n))}(6e4)),Object(y.a)(0),(n=this.columnDate$,Object(f.a)(()=>n)),Object(w.a)(e=>{const t=this.dateAdapter.setMinutes(this.dateAdapter.setHours(e,this.dayStartHour),this.dayStartMinute),n=this.dateAdapter.setMinutes(this.dateAdapter.setHours(e,this.dayEndHour),this.dayEndMinute),i=this.hourSegments*this.hourSegmentHeight/60,r=new Date;return{isVisible:this.dateAdapter.isSameDay(e,r)&&r>=t&&r<=n,top:this.dateAdapter.differenceInMinutes(r,t)*i}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](gn),r["\u0275\u0275directiveInject"](r.NgZone))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,ln,1,1,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,cn,0,0,"ng-template",1),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275pipe"](4,"async")),2&e){const e=r["\u0275\u0275reference"](1);var n=null;const i=r["\u0275\u0275pureFunction7"](6,dn,t.columnDate,t.dayStartHour,t.dayStartMinute,t.dayEndHour,t.dayEndMinute,null==(n=r["\u0275\u0275pipeBind1"](3,2,t.marker$))?null:n.isVisible,null==(n=r["\u0275\u0275pipeBind1"](4,4,t.marker$))?null:n.top);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",i)}},directives:[a.r,a.m],pipes:[a.b],encapsulation:2}),e})(),oi=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,He,De,Un],He,De]}),e})(),si=(()=>{let e=class{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new r.EventEmitter,this.hourSegmentClicked=new r.EventEmitter,this.eventTimesChanged=new r.EventEmitter,this.beforeViewRender=new r.EventEmitter}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mwl-calendar-day-view"]],inputs:{events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",snapDraggedEvents:"snapDraggedEvents",viewDate:"viewDate",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipTemplate:"tooltipTemplate",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:23,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourSegmentHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mwl-calendar-week-view",0),r["\u0275\u0275listener"]("eventClicked",(function(e){return t.eventClicked.emit(e)}))("hourSegmentClicked",(function(e){return t.hourSegmentClicked.emit(e)}))("eventTimesChanged",(function(e){return t.eventTimesChanged.emit(e)}))("beforeViewRender",(function(e){return t.beforeViewRender.emit(e)})),r["\u0275\u0275elementEnd"]()),2&e&&r["\u0275\u0275property"]("daysInWeek",1)("viewDate",t.viewDate)("events",t.events)("hourSegments",t.hourSegments)("hourSegmentHeight",t.hourSegmentHeight)("dayStartHour",t.dayStartHour)("dayStartMinute",t.dayStartMinute)("dayEndHour",t.dayEndHour)("dayEndMinute",t.dayEndMinute)("refresh",t.refresh)("locale",t.locale)("eventSnapSize",t.eventSnapSize)("tooltipPlacement",t.tooltipPlacement)("tooltipTemplate",t.tooltipTemplate)("tooltipAppendToBody",t.tooltipAppendToBody)("tooltipDelay",t.tooltipDelay)("hourSegmentTemplate",t.hourSegmentTemplate)("eventTemplate",t.eventTemplate)("eventTitleTemplate",t.eventTitleTemplate)("eventActionsTemplate",t.eventActionsTemplate)("snapDraggedEvents",t.snapDraggedEvents)("allDayEventsLabelTemplate",t.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",t.currentTimeMarkerTemplate)},directives:[ti],encapsulation:2}),e})(),li=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,Un,oi]]}),e})();var ci;let di=(()=>{let e=ci=class{static forRoot(e,t={}){return{ngModule:ci,providers:[e,t.eventTitleFormatter||Hn,t.dateFormatter||Ln,t.utils||Vn,t.a11y||Yn]}}};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[Un,Zn,oi,li],Un,Zn,oi,li]}),e})();const ui=r["\u0275\u0275getInheritedFactory"](Ln)},lkxz:function(e,t,n){"use strict";var i=n("Ce4a");t.a=function(e){var t=new e.constructor(e.byteLength);return new i.a(t).set(new i.a(e)),t}},uE2L:function(e,t,n){"use strict";var i=n("AwXo");t.a=function(e,t,n){"__proto__"==t&&i.a?Object(i.a)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}}}]);
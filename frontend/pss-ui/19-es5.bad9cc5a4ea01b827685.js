!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"8cHm":function(e,i,a){"use strict";a.d(i,"a",(function(){return U}));var r=a("0IaG"),o=a("3Pt+"),s=(a("a+fB"),a("xrR1")),c=a("ucIW"),l=a("JX91"),u=a("lJxs"),d=a("aWrw"),m=a("PFrk"),f=a("dyEh"),p=a("9nlD"),h=a("O263"),v=a("uD26"),g=a("fXoL"),b=a("NFeN"),y=a("ofXK"),S=a("XiUz"),x=a("kmnG"),C=a("qFsG"),E=a("/1cH"),O=a("FKr1"),I=a("bTqV"),j=a("7EHt");function k(t,e){if(1&t){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-option",15),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var t=e.$implicit;return g["\u0275\u0275nextContext"](2).setAgent(t)})),g["\u0275\u0275element"](1,"img",16),g["\u0275\u0275elementStart"](2,"span"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](4," | "),g["\u0275\u0275elementStart"](5,"span"),g["\u0275\u0275elementStart"](6,"small"),g["\u0275\u0275text"](7),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"small"),g["\u0275\u0275text"](9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&t){var i=e.$implicit;g["\u0275\u0275property"]("value",i.prenom+" "+i.nom),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](i.matricule),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",i.prenom," "),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",i.nom,"")}}function A(t,e){if(1&t){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",17),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).stateCtrl.reset()})),g["\u0275\u0275elementStart"](1,"mat-icon"),g["\u0275\u0275text"](2,"close"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function w(t,e){1&t&&(g["\u0275\u0275elementStart"](0,"button",18),g["\u0275\u0275elementStart"](1,"mat-icon"),g["\u0275\u0275text"](2,"arrow_drop_down"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]())}function L(t,e){if(1&t&&(g["\u0275\u0275elementStart"](0,"div",5),g["\u0275\u0275elementStart"](1,"mat-form-field",6),g["\u0275\u0275elementStart"](2,"mat-label"),g["\u0275\u0275text"](3,"Renseigner l'agent demandeur"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](4,"input",10),g["\u0275\u0275elementStart"](5,"mat-autocomplete",null,11),g["\u0275\u0275template"](7,k,10,4,"mat-option",12),g["\u0275\u0275pipe"](8,"async"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](9,A,3,0,"button",13),g["\u0275\u0275template"](10,w,3,0,"button",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&t){var n=g["\u0275\u0275reference"](6),i=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("matAutocomplete",n)("formControl",i.stateCtrl),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",g["\u0275\u0275pipeBind1"](8,5,i.filteredStates)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",i.stateCtrl.value),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!i.stateCtrl.value)}}function D(t,e){if(1&t&&(g["\u0275\u0275elementStart"](0,"div",5),g["\u0275\u0275elementStart"](1,"mat-form-field",6),g["\u0275\u0275elementStart"](2,"mat-panel-description"),g["\u0275\u0275elementStart"](3,"span"),g["\u0275\u0275text"](4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&t){var n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](n.defaults.agent.matricule+" : "+n.defaults.agent.prenom+" "+n.defaults.agent.nom)}}function R(t,e){if(1&t&&(g["\u0275\u0275elementStart"](0,"button",19),g["\u0275\u0275text"](1,"AJOUTER"),g["\u0275\u0275elementEnd"]()),2&t){var n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("disabled",!n.form.valid)}}function M(t,e){if(1&t&&(g["\u0275\u0275elementStart"](0,"button",19),g["\u0275\u0275text"](1,"MODIFIER"),g["\u0275\u0275elementEnd"]()),2&t){var n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("disabled",!n.form.valid)}}var U=function(){var e=function(){function e(n,i,a,r,s,c,l,u,m){t(this,e),this.notificationService=n,this.authentificationService=i,this.compteService=a,this.dialogConfirmationService=r,this.defaults=s,this.dialogRef=c,this.fb=l,this.demandeAttestationService=u,this.agentService=m,this.dialogUtil=new f.a,this.mode="create",this.stateCtrl=new o.e,this.etatAttestation=new d.a}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.defaults?(this.mode="update",this.stateCtrl.setValue(this.defaults.agent.matricule)):this.defaults={},this.form=this.fb.group({commentaire:[this.defaults.commentaire||"",o.w.required]}),this.username=this.authentificationService.getUsername(),this.compteService.getByUsername(this.username).subscribe((function(e){t.compte=e.body,t.agent=t.compte.agent,t.uniteOrganisationnelle=t.agent.uniteOrganisationnelle}),(function(t){}),(function(){t.getAgents()}))}},{key:"setAgent",value:function(t){this.agent=t}},{key:"filterStates",value:function(t){return this.agents.filter((function(e){return 0===e.matricule.toLowerCase().indexOf(t.toLowerCase())||0===e.prenom.toLowerCase().indexOf(t.toLowerCase())||0===e.nom.toLowerCase().indexOf(t.toLowerCase())}))}},{key:"save",value:function(){"create"===this.mode?this.createDemandeAttestation():"update"===this.mode&&this.updateDemandeAttestation()}},{key:"createDemandeAttestation",value:function(){var t=this;this.dialogConfirmationService.confirmationDialog().subscribe((function(e){if(e===f.a.confirmer){var n=t.form.value;n.dateSaisie=new Date,new Date(n.dateSaisie).getFullYear().toString(),console.log("attestation ",n),n.agent=t.agent,n.uniteOrganisationnelle=t.uniteOrganisationnelle,n.etat=d.a.saisir,console.log("attestation updated",n.etat),t.demandeAttestationService.create(n).subscribe((function(e){t.notificationService.success(f.e.ajout),console.log("response ",e),t.dialogRef.close(e.body)}))}}))}},{key:"updateDemandeAttestation",value:function(){var t=this,e=this.defaults;e.commentaire=this.form.value.commentaire,e.etat=d.a.saisir,this.demandeAttestationService.update(e).subscribe((function(n){t.notificationService.success(f.e.modification),console.log("Demande attestation updated status: ",n.status),console.log("Demande attestation updated: ",n),t.dialogRef.close(e)}))}},{key:"isCreateMode",value:function(){return"create"===this.mode}},{key:"isUpdateMode",value:function(){return"update"===this.mode}},{key:"getAgents",value:function(){var t=this;this.agentService.getAllByUniteOrganisationnelle(this.uniteOrganisationnelle.id).subscribe((function(e){t.agents=e.body}),(function(t){console.log("error lors du chargement des donn\xe9es : ",t)}),(function(){t.filteredStates=t.stateCtrl.valueChanges.pipe(Object(l.a)(""),Object(u.a)((function(e){return e?t.filterStates(e):t.agents.slice()})))}))}},{key:"transmettre",value:function(){}},{key:"updateAttestation",value:function(t,e){var n=this;t.etat=e,t.etat=d.a.saisir,this.demandeAttestationService.update(t).subscribe((function(e){n.notificationService.success(f.e.modification),console.log("attestation updated after added etape attestation: ",e),n.dialogRef.close(t)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](p.a),g["\u0275\u0275directiveInject"](h.a),g["\u0275\u0275directiveInject"](v.a),g["\u0275\u0275directiveInject"](m.a),g["\u0275\u0275directiveInject"](r.a),g["\u0275\u0275directiveInject"](r.g),g["\u0275\u0275directiveInject"](o.d),g["\u0275\u0275directiveInject"](s.a),g["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["fury-add-attestation"]],decls:18,vars:5,consts:[["mat-button","","mat-dialog-close","",1,"close"],["mat-dialog-title","",1,"titre_modal_add"],[3,"formGroup","ngSubmit"],[1,"person"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","24px",4,"ngIf"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","24px"],["fxFlex",""],["formControlName","commentaire","matInput",""],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"disabled",4,"ngIf"],["matInput","",3,"matAutocomplete","formControl"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["type","button","mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["type","button","mat-icon-button","","matSuffix","",4,"ngIf"],[3,"value","click"],["src","assets/img/users.png","height","16",2,"vertical-align","middle","margin-right","4px"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["type","button","mat-icon-button","","matSuffix",""],["mat-button","",3,"disabled"]],template:function(t,e){1&t&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"mat-icon",0),g["\u0275\u0275text"](2,"close"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"div",1),g["\u0275\u0275text"](4,"Demande Attestation de travail"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"form",2),g["\u0275\u0275listener"]("ngSubmit",(function(){return e.save()})),g["\u0275\u0275elementStart"](6,"mat-dialog-content"),g["\u0275\u0275elementStart"](7,"div",3),g["\u0275\u0275template"](8,L,11,7,"div",4),g["\u0275\u0275template"](9,D,5,1,"div",4),g["\u0275\u0275elementStart"](10,"div",5),g["\u0275\u0275elementStart"](11,"mat-form-field",6),g["\u0275\u0275elementStart"](12,"mat-label"),g["\u0275\u0275text"](13,"Commentaire"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](14,"textarea",7),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"mat-dialog-actions",8),g["\u0275\u0275template"](16,R,2,1,"button",9),g["\u0275\u0275template"](17,M,2,1,"button",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&t&&(g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("formGroup",e.form),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",!e.isUpdateMode()),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.isUpdateMode()),g["\u0275\u0275advance"](7),g["\u0275\u0275property"]("ngIf",e.isCreateMode()),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.isUpdateMode()))},directives:[b.a,r.d,r.h,o.x,o.p,o.i,r.e,y.m,S.d,S.e,x.d,S.b,x.h,o.c,C.b,o.o,o.g,r.c,S.c,E.c,o.f,E.a,y.l,O.o,I.b,x.j,j.d],pipes:[y.b],styles:[""]}),e}()},BlUh:function(e,i,a){"use strict";a.d(i,"a",(function(){return l}));var r=a("tk/3"),o=a("z6cu"),s=a("JIr8"),c=a("fXoL"),l=function(){var e=function(){function e(n){t(this,e),this.httpClient=n,this.url="/pss-backend/etapeAttestations",this.httpOptions={headers:new r.d({"Content-Type":"application/json"})}}return n(e,[{key:"getAll",value:function(){return this.httpClient.get(this.url,{observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"create",value:function(t){return this.httpClient.post(this.url,JSON.stringify(t),{headers:this.httpOptions.headers,observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"createMany",value:function(t){return this.httpClient.post(this.url+"/many",JSON.stringify(t),{headers:this.httpOptions.headers,observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"getById",value:function(t){return this.httpClient.get(this.url+"/"+t).pipe(Object(s.a)(this.errorHandler))}},{key:"update",value:function(t){return this.httpClient.put(this.url,JSON.stringify(t),{headers:this.httpOptions.headers,observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"delete",value:function(t){return this.httpClient.delete(this.url,{headers:this.httpOptions.headers,body:t})}},{key:"errorHandler",value:function(t){var e;return e=t.error instanceof ErrorEvent?t.error.message:"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),console.log(e),Object(o.a)(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](r.b))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},I57e:function(e,i,a){"use strict";a.d(i,"a",(function(){return C}));var r=a("xrR1"),o=a("0IaG"),s=a("3Pt+"),c=a("BlUh"),l=a("O263"),u=a("uD26"),d=a("SmbB"),m=a("aWrw"),f=a("PFrk"),p=a("dyEh"),h=a("9nlD"),v=a("fXoL"),g=a("NFeN"),b=a("XiUz"),y=a("kmnG"),S=a("qFsG"),x=a("bTqV"),C=function(){var e=function(){function e(n,i,a,r,o,s,c,l,u){t(this,e),this.notificationService=n,this.dialogConfirmationService=i,this.defaults=a,this.dialogRef=r,this.fb=o,this.suiviAttestationService=s,this.authentificationService=c,this.compteService=l,this.demandeAttestationService=u,this.dialogUtil=new p.a}return n(e,[{key:"ngOnInit",value:function(){console.log("defaults ",this.defaults),this.form=this.fb.group({commentaire:["",s.w.required]}),this.username=this.authentificationService.getUsername(),this.getCompteByUsername(this.username)}},{key:"rejeterAttestation",value:function(){var t=this;this.dialogConfirmationService.confirmationDialog().subscribe((function(e){if(e===p.a.confirmer){var n=t.form.value;if("one"===t.defaults.type)n.date=new Date,n.prenom=t.agent.prenom,n.nom=t.agent.nom,n.matricule=t.agent.matricule,n.fonction=t.agent.fonction.nom,n.attestation=t.defaults.demandeAttestation,n.telephone=t.agent.telephone,t.suiviAttestationService.create(n).subscribe((function(e){t.notificationService.success(p.e.rejet),console.log("response saved attestation",e),201===e.status&&(t.attestation=e.body.attestation,t.updateAttestation(t.attestation,m.a.rejeter))}));else if("many"===t.defaults.type){var i=[];t.defaults.demandeAttestations.forEach((function(e){var n=new d.a;n.date=new Date,n.prenom=t.agent.prenom,n.nom=t.agent.nom,n.matricule=t.agent.matricule,n.fonction=t.agent.fonction.nom,n.attestation=e,n.telephone=t.agent.telephone,n.commentaire=t.form.value.commentaire,i.push(n)})),t.suiviAttestationService.createMany(i).subscribe((function(e){t.notificationService.success(p.e.rejet),console.log("response saved attestation",e),201===e.status&&t.updateAttestationMany(t.defaults.demandeAttestations,m.a.rejeter)}))}}}))}},{key:"updateSuiviAttestation",value:function(){var t=this,e=this.form.value;e.id=this.defaults.id,e.agent=this.defaults.agent,console.log("default update ",e),this.suiviAttestationService.update(e).subscribe((function(n){console.log("Suivi attestation updated: ",n),t.dialogRef.close(e)}))}},{key:"getCompteByUsername",value:function(t){var e=this;this.compteService.getByUsername(t).subscribe((function(t){e.agent=t.body.agent,console.log("compte agent",e.agent)}))}},{key:"updateAttestation",value:function(t,e){var n=this;t.etat=e,this.demandeAttestationService.update(t).subscribe((function(t){console.log("attestation updated after added etape attestation: ",t),n.dialogRef.close(n.attestation)}))}},{key:"updateAttestationMany",value:function(t,e){var n=this;t.forEach((function(t){return t.etat=e})),this.demandeAttestationService.updateMany(t).subscribe((function(t){console.log("attestations updated after added etape attestation: ",t),n.dialogRef.close()}))}}]),e}();return e.id=100,e.\u0275fac=function(t){return new(t||e)(v["\u0275\u0275directiveInject"](h.a),v["\u0275\u0275directiveInject"](f.a),v["\u0275\u0275directiveInject"](o.a),v["\u0275\u0275directiveInject"](o.g),v["\u0275\u0275directiveInject"](s.d),v["\u0275\u0275directiveInject"](c.a),v["\u0275\u0275directiveInject"](l.a),v["\u0275\u0275directiveInject"](u.a),v["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=v["\u0275\u0275defineComponent"]({type:e,selectors:[["fury-rejeter-attestation"]],decls:15,vars:2,consts:[["mat-button","","mat-dialog-close","",1,"monIcon"],["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"person"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","24px"],["fxFlex",""],["formControlName","commentaire","matInput",""],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"disabled"]],template:function(t,e){1&t&&(v["\u0275\u0275elementStart"](0,"mat-icon",0),v["\u0275\u0275text"](1,"close"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](2,"div",1),v["\u0275\u0275text"](3,"Rejeter attestation"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](4,"form",2),v["\u0275\u0275listener"]("ngSubmit",(function(){return e.rejeterAttestation()})),v["\u0275\u0275elementStart"](5,"mat-dialog-content"),v["\u0275\u0275elementStart"](6,"div",3),v["\u0275\u0275elementStart"](7,"div",4),v["\u0275\u0275elementStart"](8,"mat-form-field",5),v["\u0275\u0275elementStart"](9,"mat-label"),v["\u0275\u0275text"](10,"Commentaire"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275element"](11,"textarea",6),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](12,"mat-dialog-actions",7),v["\u0275\u0275elementStart"](13,"button",8),v["\u0275\u0275text"](14,"REJETER"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()),2&t&&(v["\u0275\u0275advance"](4),v["\u0275\u0275property"]("formGroup",e.form),v["\u0275\u0275advance"](9),v["\u0275\u0275property"]("disabled",!e.form.valid))},directives:[g.a,o.d,o.h,s.x,s.p,s.i,o.e,b.d,b.e,y.d,b.b,y.h,s.c,S.b,s.o,s.g,o.c,b.c,x.b],styles:[".monIcon[_ngcontent-%COMP%]{float:right}.monIcon[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:grey}"]}),e}()},R3oc:function(e,n,i){"use strict";i.d(n,"a",(function(){return s}));var a=i("ofXK"),r=i("WCGO"),o=i("fXoL"),s=function(){var e=function e(){t(this,e)};return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,r.a]]}),e}()},SmbB:function(e,n,i){"use strict";i.d(n,"a",(function(){return a}));var a=function e(n){t(this,e),null!=n&&(this.id=n.id,this.id=n.id,this.commentaire=n.commentaire,this.date=n.date,this.action=n.action,this.titre=n.titre,this.fonction=n.fonction,this.structure=n.structure,this.matricule=n.matricule,this.prenom=n.prenom,this.nom=n.nom,this.etat=n.etat,this.attestation=n.attestationDTO,this.createdAt=n.createdAt,this.updatedAt=n.updatedAt)}},"a+fB":function(e,n,i){"use strict";i.d(n,"a",(function(){return a}));var a=function e(n){t(this,e),this.id=n.id,this.dateSaisie=n.dateSaisie,this.dateCreation=n.dateCreation,this.commentaire=n.commentaire,this.agent=n.agent,this.etat=n.etat,this.uniteOrganisationnelle=n.uniteOrganisationnelle,this.fileMetaData=n.fileMetaData}},aWrw:function(e,n,i){"use strict";i.d(n,"a",(function(){return a}));var a=function(){var e=function e(){t(this,e)};return e.saisir="SAISI",e.transmettre="TRANSMIS",e.valider="VALIDE",e.rejeter="REJETE",e.cloturer="CLOTURE",e}()},xrR1:function(e,i,a){"use strict";a.d(i,"a",(function(){return l}));var r=a("tk/3"),o=a("z6cu"),s=a("JIr8"),c=a("fXoL"),l=function(){var e=function(){function e(n){t(this,e),this.httpClient=n,this.url="/pss-backend/attestations",this.httpOptions={headers:new r.d({"Content-Type":"application/json"})}}return n(e,[{key:"getAll",value:function(){return this.httpClient.get(this.url,{observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"create",value:function(t){return this.httpClient.post(this.url,JSON.stringify(t),{headers:this.httpOptions.headers,observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"getById",value:function(t){return this.httpClient.get(this.url+t).pipe(Object(s.a)(this.errorHandler))}},{key:"update",value:function(t){return this.httpClient.put(this.url,JSON.stringify(t),{headers:this.httpOptions.headers,observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"updateMany",value:function(t){return this.httpClient.put(this.url+"/many",JSON.stringify(t),{headers:this.httpOptions.headers,observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"uploadAttestation",value:function(t,e){var n=new FormData;return n.append("file",e),this.httpClient.post(this.url+"/"+t.id+"/upload",n,{reportProgress:!0}).pipe(Object(s.a)(this.errorHandler))}},{key:"downloadAttestation",value:function(t){return this.httpClient.get(this.url+"/"+t.id+"/download",{responseType:"blob"})}},{key:"delete",value:function(t){return this.httpClient.delete(this.url,{headers:this.httpOptions.headers,body:t})}},{key:"getAttestationByUnORG",value:function(t){return this.httpClient.get(this.url+"/uniteOrganisationnelle/"+t,{observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"getAttestationsByAgent",value:function(t){return this.httpClient.get(this.url+"/agent/"+t,{observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"getAttestationsByEtatDifferent",value:function(t){return this.httpClient.get(this.url+"/etat/different/"+t,{observe:"response"}).pipe(Object(s.a)(this.errorHandler))}},{key:"errorHandler",value:function(t){var e;return e=t.error instanceof ErrorEvent?t.error.message:"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),console.log(e),Object(o.a)(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](r.b))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();